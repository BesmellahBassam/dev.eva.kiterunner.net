{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9c3f","webpack:///./src/components/StatusTable.vue?b6f9","webpack:///./src/utils/fulfilments-util.js","webpack:///./src/components/ConfirmMessage.vue?6736","webpack:///src/components/ConfirmMessage.vue","webpack:///./src/components/ConfirmMessage.vue?9fe3","webpack:///./src/components/ConfirmMessage.vue","webpack:///./src/components/Table/LinearProgress.vue?4a45","webpack:///src/components/Table/LinearProgress.vue","webpack:///./src/components/Table/LinearProgress.vue?3c6f","webpack:///./src/components/Table/LinearProgress.vue","webpack:///./src/components/Table/EditDialogTableBody.vue?0497","webpack:///src/components/Table/EditDialogTableBody.vue","webpack:///./src/components/Table/EditDialogTableBody.vue?272e","webpack:///./src/components/Table/EditDialogTableBody.vue","webpack:///./src/components/Table/Toolbar.vue?d8fa","webpack:///./src/utils/excel-operator.js","webpack:///./src/components/AddColumn.vue?e680","webpack:///src/components/AddColumn.vue","webpack:///./src/components/AddColumn.vue?2fe4","webpack:///./src/components/AddColumn.vue","webpack:///src/components/Table/Toolbar.vue","webpack:///./src/components/Table/Toolbar.vue?57d5","webpack:///./src/components/Table/Toolbar.vue","webpack:///./src/components/Table/EditDialogTableHeader.vue?fa98","webpack:///src/components/Table/EditDialogTableHeader.vue","webpack:///./src/components/Table/EditDialogTableHeader.vue?2eef","webpack:///./src/components/Table/EditDialogTableHeader.vue","webpack:///src/components/StatusTable.vue","webpack:///./src/components/StatusTable.vue?e72b","webpack:///./src/components/StatusTable.vue","webpack:///src/App.vue","webpack:///./src/App.vue?4c4f","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?5f3c","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2de8","webpack:///./src/views/Home.vue","webpack:///./src/router/index.js","webpack:///./src/store/modules/statusTable.js","webpack:///./src/store/index.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticRenderFns","ref","staticClass","attrs","filteredHeaders","deliverables","sortBy","sortDesc","on","$event","scopedSlots","_u","fn","headers","props","_l","header","staticStyle","includes","thHeight","stepsFulfillment","_v","_s","Math","round","totalFulfillment","isNaN","toggleWidth","idx","class","active","asc","changeHeader","inputChanged","headerTextFieldOpen","conformMessage","sortColumn","text","style","transform","rotateValues","items","item","refInFor","expandedWidth","cellBackgroundStyle","getTitle","showEditDialog","mouseLeave","isChild","subProjectStepsFullFilment","id","parseInt","handleSelectChange","changeCell","close1","open","tdHeight","isSelected","handleClick","children","child","childIdx","index","_e","directives","rawName","expression","top","selectedRowTop","deleteRows","createNewRowFromSelected","stopPropagation","ungroupSelectedChildren","arguments","showWeight","toggleWeight","undoDelete","proxy","message","pressedType","deleteRow","deleteColumn","toggleShowConformMessage","FulfilmentsUtil","row","steps","stepsLength","closedCount","wipCount","nrelCount","forEach","step","identity","fulfillment","effectiveStepsLength","calculateRowFulfillment","isGrouped","calculateParentFulfillment","totalWeights","sumAll","weight","target","currentTarget","closePopup","methods","answer","$emit","component","VBtn","color","height","_t","VProgressLinear","cancel","rules","required","positiveNumbers","select","emits","close","openedCell","headerValue","param","VEditDialog","VTextField","generateExcel","adjustSize","adjustText","addRow","loadExcel","model","callback","$$v","file","STATUS_CLOSED","STATUS_WIP","STATUS_OPEN","STATUS_NREL","ExcelOperator","responsibles","workbook","ExcelJS","Workbook","workSheet","addWorksheet","calculateFirstRow","tableRows","formTableRows","addFormattingFulfillmentsColumns","addFormattingFirstRow","addStepDropDownAndColor","addfulfillmentFormula","addFirstRowFormula","addChildRowStepsFormula","tableHeaders","filterButton","addTable","headerRow","showRowStripes","columns","rows","xlsx","writeBuffer","buf","saveAs","Blob","emptyRows","stepsStatus","firstRow","console","log","offset","firstColumnLetter","_columns","letter","lastColumnLetter","addConditionalFormatting","type","argb","gradient","cfvo","font","columnLetter","addNumberFormatting","childRowCell","endPosition","weightColumnLetter","statusColumnLetter","statusColumnFirstCell","excludedWeights","childRowCellsCounter","formulaComponents","countChildRows","deliverable","deliverableLength","nRelCountFormula","getCell","formula","map","join","lastColumnIndex","firstDataRow","lastDataRow","ChildRowsFormulaComponents","addFormattingChildRows","nRelCountFormulaChild","childRowFormula","targetCell","dataValidation","allowBlank","formulae","addColorFormatting","columnOffset","inc","addDropDownAndColor","fulfillmentColumnLetter","addfulfillmentFormulaHelper","fulfillmentCell","cell","numFmt","itemValues","description","childValues","parseFloat","operator","fill","pattern","bgColor","laodTable","wb","reader","FileReader","readAsArrayBuffer","Promise","resolve","onload","buffer","load","sheet","getWorksheet","firstStepColumnNumber","lastStepColumnNumber","firstResponsibleColumnNumber","lastResponsibleColumnNumber","eachRow","rowNumber","rowValues","values","some","loadingObject","counter","start","headerValues","responsiblesCounter","stepCounter","align","sortable","editable","headerEditable","then","addColumn","stepOffset","nextColumnName","getNextColumnName","alreadyExist","$store","getters","columnType","addStatusColumn","addResponsibleColumn","dispatch","stepText","stepIdentity","columnDeleteIcon","util","recalculateAllFulfillments","responsiblesLength","responsiblesText","responsibleIdentity","computed","statusTable","components","AddColumn","filter","excelOperator","saveAsExcel","passObject","horizontalAdjusted","tableWrapper","width","clientWidth","heightScale","table","widthScale","containerWidth","scrollWidth","containerHeight","scrollHeight","tasksLength","responsible","VChip","VDivider","VFileInput","VSpacer","VToolbar","VToolbarTitle","headerText","ConfirmMessage","LinearProgress","EditDialogTableHeader","EditDialogTableBody","Toolbar","mounted","$nextTick","$refs","headerRef","clientHeight","thWidth","rowRef","maxHeight","tableToolbarHeight","watch","dialog","val","selectedRows","parentIdx","childrenToUngroup","sort","ungroupChild","parent","recalculateNumbering","findParentIndex","childId","findChildIndex","closetoolbox","event","classList","contains","toolboxVisible","include","document","querySelector","renumberDeliverables","renumberedRow","min","newRow","totalWeight","selectedRow","parentId","calculateStepsFulfillmentForNewRow","updatedDeliverables","finalIndex","deletedRows","deletedChild","deletedRowsStack","getNextAvailableId","lastDeletedRows","existingRow","positionToolBox","shiftKey","handleRangeSelection","isRangeSelected","startIndex","endIndex","itemId","rowHeight","$set","nextStepIndex","undefined","parentRow","getProgressBarStyles","isDialogOpen","inputValue","backgroundColor","getColor","status","setTimeout","showDelete","showDeleteIcon","unShowDelete","showColumnDelete","unShowColumnDelete","pressedId","stepNumber","a","b","counter1","x","y","z","e","f","counter2","showConformMessage","VCol","VContainer","VDataTable","VIcon","VRow","ClickOutside","created","title","StatusTable","VApp","VMain","Vue","use","VueRouter","routes","path","Home","router","base","process","state","fixed","newRowCounter","mutations","incrementNewRowCounter","SET_ROW_COUNTER_TO_ZERO","SET_HEADERS","SET_TABLE_STATE","SET_STEPS","nextStatusColumn","SET_RESPONSIBLES","SET_NEXT_COLUMN_NAME","LOAD_DELIVERABLES","loadedArray","actions","incrementNewRowCounterAction","commit","setRowCounterToZero","setHeaders","setDeliverables","setSteps","setResponsibles","setNextColumnName","loadDeliverables","getNewRowCounter","fulfillmentsObj","nextResponsibleIdentity","Vuex","Store","plugins","createPersistedState","Vuetify","config","productionTip","store","vuetify","render","h","App","$mount"],"mappings":"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","file":"js/app.7c5a822c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-main',[_c('StatusTable')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"containerRef\",staticClass:\"container-width\"},[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{staticClass:\"text-center\"},[_c('v-col',{staticClass:\"overflow-c\",attrs:{\"cols\":\"12\"}},[_c('div',{ref:\"tableRef\"},[_c('v-data-table',{staticClass:\"elevation-1 zoom custom-data-table \",attrs:{\"headers\":_vm.filteredHeaders,\"items\":_vm.deliverables,\"hide-default-header\":\"\",\"hide-default-footer\":\"\",\"sort-by\":_vm.sortBy,\"disable-pagination\":\"\",\"sort-desc\":_vm.sortDesc},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event}},scopedSlots:_vm._u([{key:\"header\",fn:function(ref){\nvar headers = ref.props.headers;\nreturn [_c('thead',{staticClass:\"v-data-table-header\"},[_c('tr',{ref:\"headerRef\"},_vm._l((headers),function(header){return _c('th',{key:header.value,staticStyle:{\"border\":\"solid 0.5px\",\"padding\":\"0px 0px\"}},[_c('span'),(header.value.includes('step'))?_c('span',{staticStyle:{\"height\":\"100%\"}},[_c('linear-progress',{attrs:{\"color\":\"green\",\"height\":_vm.thHeight,\"value\":_vm.stepsFulfillment[header.value]}},[_vm._v(\" \"+_vm._s(_vm.stepsFulfillment[header.value] ? Math.round(_vm.stepsFulfillment[header.value]) : 0)+\"% \")])],1):(header.value === 'fulfillment')?_c('span',[_c('linear-progress',{attrs:{\"value\":_vm.totalFulfillment !== null && !isNaN(_vm.totalFulfillment) ? _vm.totalFulfillment : 0,\"color\":\"green\",\"height\":_vm.thHeight,\"reactive\":\"reactive\",\"striped\":\"striped\"}},[_vm._v(\" \"+_vm._s(_vm.totalFulfillment !== null && !isNaN(_vm.totalFulfillment) ? _vm.totalFulfillment + \"%\" : \"n.rel.\")+\" \")])],1):_c('div',{staticStyle:{\"color\":\"white\"},on:{\"click\":function($event){return _vm.toggleWidth()}}},[_vm._v(\" ' \")])])}),0),_c('tr',{staticClass:\"secondTopRow\"},_vm._l((headers),function(header,idx){return _c('th',{key:idx,staticClass:\"sortable\",class:{\n                      active: _vm.sortBy === header.value,\n                      asc: _vm.sortDesc === false,\n                    },attrs:{\"id\":\"tableHeader\",\"role\":\"columnheader\",\"scope\":\"col\",\"aria-label\":((header.text) + \": Sorted ascending. Activate to sort descending.\"),\"aria-sort\":\"ascending\"}},[_c('edit-dialog-table-header',{attrs:{\"header\":header},on:{\"handleChangeHeader\":_vm.changeHeader,\"handleInputChange\":_vm.inputChanged,\"handleHeaderTextFileOpend\":_vm.headerTextFieldOpen}}),(header.headerEditable)?_c('span',{attrs:{\"id\":\"deleteIcon\"},on:{\"click\":function($event){return _vm.conformMessage('', idx, 'column')}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-delete\")])],1):_c('span',[_c('span',{on:{\"click\":function($event){return _vm.sortColumn(header.value)}}},[_c('span',[_vm._v(_vm._s(header.text)+\" \")]),_c('span',[_c('i',{staticClass:\"v-icon notranslate v-data-table-header__icon mdi mdi-arrow-up theme--light\",staticStyle:{\"font-size\":\"18px\",\"transition\":\"transform 0.25s linear\"},style:({\n                              transform: (\"rotate(\" + (_vm.rotateValues[header.value]) + \"deg)\"),\n                            }),attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){_vm.rotateValues[header.value] += _vm.rotateValues[header.value] === 0 ? -180 : 180}}})])])])],1)}),0)])]}},{key:\"body\",fn:function(ref){\n                            var items = ref.items;\n                            var headers = ref.headers;\nreturn [_c('tbody',[_vm._l((items),function(item,idx){return [_c('tr',{ref:\"rowRef\",refInFor:true},_vm._l((headers),function(header,key){return _c('td',{key:(\"inner_\" + key),class:{ 'expanded-td': _vm.expandedWidth },style:(_vm.cellBackgroundStyle(item[header.value])),attrs:{\"title\":_vm.expandedWidth ? _vm.getTitle(item, header) : ''},on:{\"mouseover\":function($event){item.showEditDialog = true},\"mouseleave\":function($event){return _vm.mouseLeave(item)}}},[(header.editable)?_c('span',{class:{\n                          'left-justified': header.value === 'description' || header.value.includes('responsible'),\n                        }},[(!item.showEditDialog && !item.isChild)?_c('span',[_vm._v(\" \"+_vm._s(item[header.value])+\" \")]):_c('span',[(header.value.includes('step'))?[(item.isChild)?_c('span',[_vm._v(\" \"+_vm._s(_vm.subProjectStepsFullFilment[item.id] ? parseInt(Math.round(_vm.subProjectStepsFullFilment[item.id][header.value])) : 0)+\"% \")]):_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.handleSelectChange(item, header.value)}}},[_vm._v(\" \"+_vm._s(item[header.value])+\" \")])]:[_c('edit-dialog-table-body',{attrs:{\"item\":item,\"header\":header},on:{\"handleChangeCell\":_vm.changeCell,\"handleClose1\":_vm.close1,\"handleInputChanged\":_vm.inputChanged,\"handleOpen\":_vm.open}})]],2)]):_c('span',[(header.value === 'fulfillment')?_c('span',[_c('linear-progress',{attrs:{\"value\":typeof item[header.value] === 'number' ? item[header.value] : 0,\"color\":\"green\",\"height\":_vm.tdHeight,\"reactive\":\"reactive\",\"striped\":\"striped\"}},[_vm._v(\" \"+_vm._s(typeof item[header.value] === \"number\" ? Math.round(item[header.value]) + \"%\" : \"n.rel.\")+\" \")])],1):_c('div',{class:{\n                            'deliverable--number': header.value === 'id',\n                            'selected-row': _vm.isSelected(item.id),\n                          },on:{\"click\":function($event){return _vm.handleClick($event, idx, item.id)}}},[_vm._v(\" \"+_vm._s(item[header.value])+\" \")])])])}),0),(item.children && item.children.length > 0)?_vm._l((item.children),function(child,childIdx){return _c('tr',{key:(\"child_\" + idx + \"_\" + childIdx)},_vm._l((headers),function(header,index){return _c('td',{key:(\"inner_child_\" + index),class:{ 'expanded-td': _vm.expandedWidth },style:(_vm.cellBackgroundStyle(child[header.value])),attrs:{\"title\":_vm.expandedWidth ? _vm.getTitle(child, header) : ''},on:{\"mouseover\":function($event){child.showEditDialog = true},\"mouseleave\":function($event){return _vm.mouseLeave(child)}}},[(header.editable)?_c('span',{class:{\n                            'left-justified': header.value === 'description' || header.value.includes('responsible'),\n                          }},[(!child.showEditDialog)?_c('span',[_vm._v(_vm._s(child[header.value]))]):_c('span',[(header.value.includes('step'))?[_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.handleSelectChange(child, header.value)}}},[_vm._v(\" \"+_vm._s(child[header.value])+\" \")])]:[_c('edit-dialog-table-body',{attrs:{\"item\":child,\"header\":header},on:{\"handleChangeCell\":_vm.changeCell,\"handleClose1\":_vm.close1,\"handleInputChanged\":_vm.inputChanged,\"handleOpen\":_vm.open}})]],2)]):_c('span',[(header.value === 'fulfillment')?_c('span',[_c('linear-progress',{attrs:{\"value\":typeof child[header.value] === 'number' ? child[header.value] : 0,\"color\":\"green\",\"height\":_vm.tdHeight,\"reactive\":\"reactive\",\"striped\":\"striped\"}},[_vm._v(\" \"+_vm._s(typeof child[header.value] === \"number\" ? Math.round(child[header.value]) + \"%\" : \"n.rel.\")+\" \")])],1):_c('div',{class:{\n                              'deliverable--number': header.value == 'id',\n                              'selected-row': _vm.isSelected(child.id),\n                            },staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.handleClick($event, childIdx, child.id, idx)}}},[_vm._v(\" \"+_vm._s(child[header.value])+\" \")])])])}),0)}):_vm._e()]}),(_vm.toolboxVisible)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closetoolbox),expression:\"closetoolbox\"}],staticClass:\"toolbox\",style:({ top: _vm.selectedRowTop + 'px' })},[_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":_vm.deleteRows}},[_vm._v(\"mdi-delete\")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":_vm.createNewRowFromSelected}},[_vm._v(\"mdi-arrow-right\")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.ungroupSelectedChildren.apply(null, arguments)}}},[_vm._v(\"mdi-arrow-left\")])],1):_vm._e()],2)]}},{key:\"top\",fn:function(){return [_c('toolbar',{attrs:{\"showWeight\":_vm.showWeight},on:{\"handleShowWeight\":_vm.toggleWeight,\"handleUndelete\":_vm.undoDelete}})]},proxy:true}])})],1)])],1)],1),(_vm.showConformMessage)?_c('div',[_c('ConfirmMessage',{attrs:{\"message\":_vm.message,\"pressedType\":_vm.pressedType},on:{\"deleteRow\":_vm.deleteRow,\"deleteStep\":function($event){return _vm.deleteColumn('step')},\"deleteResponsible\":function($event){return _vm.deleteColumn('responsible')},\"dontDelete\":_vm.toggleShowConformMessage}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class FulfilmentsUtil {\r\n  constructor() { }\r\n\r\n  calculateRowFulfillment(row, steps) {\r\n    let stepsLength = steps.length;\r\n    let closedCount = 0;\r\n    let wipCount = 0;\r\n    let nrelCount = 0;\r\n\r\n    steps.forEach(step => {\r\n      closedCount += row[step.identity] === \"closed\" ? 1 : 0;\r\n      wipCount += row[step.identity] === \"wip\" ? 0.5 : 0;\r\n      nrelCount += row[step.identity] === \"n.rel.\" ? 1 : 0;\r\n    });\r\n\r\n    let effectiveStepsLength = stepsLength - nrelCount;\r\n    let fulfillment;\r\n\r\n    if (nrelCount === stepsLength) {\r\n      // If all statuses are \"n.rel.\", set fulfillment to \"n.rel.\"\r\n      fulfillment = \"n.rel.\";\r\n    } else {\r\n      // Calculate fulfillment normally\r\n      fulfillment = ((closedCount + wipCount) / effectiveStepsLength) * 100;\r\n    }\r\n\r\n    row.fulfillment = fulfillment;\r\n  }\r\n\r\n  recalculateAllFulfillments(deliverables, steps) {\r\n    // Recalculate for all rows\r\n    deliverables.forEach(item => {\r\n      this.calculateRowFulfillment(item, steps);\r\n      if (item.isGrouped) {\r\n        item.children.forEach((child) => {\r\n          this.calculateRowFulfillment(child, steps);\r\n        });\r\n\r\n        // Aggregate children's fulfillment for the parent item\r\n        this.calculateParentFulfillment(item, steps);\r\n      }\r\n    });\r\n  }\r\n\r\n  calculateParentFulfillment(row, steps) {\r\n    // let totalFulfillment = 0;\r\n    // let childCount = parent.children.length;\r\n\r\n    // parent.children.forEach(child => {\r\n    //   if (child.fulfillment !== \"n.rel.\") {\r\n    //     totalFulfillment += child.fulfillment;\r\n    //   }\r\n    // });\r\n\r\n    // // If all children are \"n.rel.\", the parent should also be \"n.rel.\"\r\n    // if (childCount > 0 && totalFulfillment === 0) {\r\n    //   parent.fulfillment = \"n.rel.\";\r\n    // } else {\r\n    //   parent.fulfillment = totalFulfillment / childCount;\r\n    // }\r\n    if (steps.length > 0) {\r\n      let totalWeights = 0;\r\n      let sumAll = 0;\r\n\r\n      row.children.forEach((item, idx) => {\r\n        // const selectedRow = this.deliverables[idx];\r\n        if (typeof item.fulfillment === \"number\") {\r\n          totalWeights += +item.weight;\r\n          sumAll += item.fulfillment * item.weight;\r\n        }\r\n      });\r\n      row.fulfillment = sumAll / totalWeights;\r\n    }\r\n  }\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"backdrop\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closePopup('cancel')}}},[_c('div',{staticClass:\"popup\"},[_c('h3',[_vm._v(_vm._s(_vm.message))]),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.closePopup('cancel')}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.closePopup('yes')}}},[_vm._v(\"Yes\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"backdrop\" @click.self=\"closePopup('cancel')\">\r\n    <div class=\"popup\">\r\n      <h3>{{ message }}</h3>\r\n      <v-btn color=\"red darken-1\" text @click=\"closePopup('cancel')\"\r\n        >Cancel</v-btn\r\n      >\r\n      <v-btn color=\"green darken-1\" text @click=\"closePopup('yes')\">Yes</v-btn>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"message\", \"pressedType\"],\r\n  methods: {\r\n    closePopup(answer) {\r\n      if (answer === \"cancel\") {\r\n        this.$emit(\"dontDelete\");\r\n      } else if (answer === \"yes\") {\r\n        if (this.pressedType === \"Row\") {\r\n          this.$emit(\"deleteRow\");\r\n        } else if (this.pressedType === \"step\") {\r\n          this.$emit(\"deleteStep\");\r\n        } else if (this.pressedType === \"responsible\") {\r\n          this.$emit(\"deleteResponsible\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmMessage.vue?vue&type=template&id=ac86f076&\"\nimport script from \"./ConfirmMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmMessage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-progress-linear',{attrs:{\"value\":_vm.value,\"color\":_vm.color,\"height\":_vm.height,\"reactive\":\"\",\"striped\":\"\"}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-progress-linear :value=\"value\" :color=\"color\" :height=\"height\" reactive striped>\r\n    <slot></slot>\r\n  </v-progress-linear>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"value\", \"color\", \"height\", \"reactive\",\"striped\"],\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinearProgress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinearProgress.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LinearProgress.vue?vue&type=template&id=60e267a2&\"\nimport script from \"./LinearProgress.vue?vue&type=script&lang=js&\"\nexport * from \"./LinearProgress.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\ninstallComponents(component, {VProgressLinear})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-edit-dialog',{on:{\"close\":function($event){return _vm.close1(_vm.item)},\"cancel\":_vm.cancel,\"open\":function($event){return _vm.open(_vm.item[_vm.header.value])},\"save\":function($event){return _vm.changeCell(_vm.item, _vm.header.value)}},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('span',[(_vm.header.text === 'Weight')?_c('v-text-field',{attrs:{\"type\":\"number\",\"rules\":[_vm.rules.required, _vm.rules.positiveNumbers],\"value\":_vm.item[_vm.header.value],\"label\":\"Edit\",\"single-line\":\"\"},on:{\"focus\":function($event){return $event.target.select()},\"change\":function($event){return _vm.inputChanged($event, 'weight')}}}):_c('v-text-field',{attrs:{\"value\":_vm.item[_vm.header.value],\"label\":\"Edit\",\"single-line\":\"\"},on:{\"focus\":function($event){return $event.target.select()},\"change\":function($event){return _vm.inputChanged($event)}}})],1)]},proxy:true}])},[_vm._v(\" \"+_vm._s(_vm.item[_vm.header.value])+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-edit-dialog\r\n    @close=\"close1(item)\"\r\n    @cancel=\"cancel\"\r\n    @open=\"open(item[header.value])\"\r\n    @save=\"changeCell(item, header.value)\"\r\n  >\r\n    {{ item[header.value] }}\r\n    <template v-slot:input>\r\n      <span>\r\n        <v-text-field\r\n          type=\"number\"\r\n          :rules=\"[rules.required, rules.positiveNumbers]\"\r\n          v-if=\"header.text === 'Weight'\"\r\n          @focus=\"$event.target.select()\"\r\n          :value=\"item[header.value]\"\r\n          @change=\"inputChanged($event, 'weight')\"\r\n          label=\"Edit\"\r\n          single-line\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-else\r\n          @focus=\"$event.target.select()\"\r\n          :value=\"item[header.value]\"\r\n          @change=\"inputChanged($event)\"\r\n          label=\"Edit\"\r\n          single-line\r\n        ></v-text-field>\r\n      </span>\r\n    </template>\r\n  </v-edit-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"header\", \"item\"],\r\n  data: () => ({\r\n    rules: {\r\n      counter: (value) => value.length <= 20 || \"Max 20 characters\",\r\n      required: (value) => !!value || \"Required.\",\r\n      positiveNumbers: (value) => value > 0 || \"Should be greater than 0\",\r\n      alreadyExist: true,\r\n    },\r\n  }),\r\n  emits: [\"handleClose1\", \"handleOpen\", \"handleChangeCell\", \"handleInputChanged\"],\r\n  methods: {\r\n    close() {},\r\n    cancel() {},\r\n    close1(item) {\r\n      this.$emit(\"handleClose1\", item);\r\n    },\r\n    open(openedCell) {\r\n      this.$emit(\"handleOpen\", openedCell);\r\n    },\r\n    changeCell(item, headerValue) {\r\n      this.$emit(\"handleChangeCell\", item, headerValue);\r\n    },\r\n    inputChanged(value, param) {\r\n      this.$emit(\"handleInputChanged\", value, param);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialogTableBody.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialogTableBody.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditDialogTableBody.vue?vue&type=template&id=7ecb3c3a&\"\nimport script from \"./EditDialogTableBody.vue?vue&type=script&lang=js&\"\nexport * from \"./EditDialogTableBody.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VEditDialog } from 'vuetify/lib/components/VDataTable';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VEditDialog,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{staticClass:\"mb-0 mt-0\",attrs:{\"height\":\"32\",\"flat\":\"\",\"color\":\"white\"}},[_c('v-toolbar-title',[_vm._v(\"Tasks\")]),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-btn',{staticClass:\"mb-2\",attrs:{\"x-small\":\"\",\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":_vm.generateExcel}},[_vm._v(\"Generate Excel\")]),_c('v-btn',{staticClass:\"mb-2 ml-2\",attrs:{\"x-small\":\"\",\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":_vm.adjustSize}},[_vm._v(_vm._s(_vm.adjustText))]),_c('v-btn',{staticClass:\"mb-2 ml-2\",attrs:{\"x-small\":\"\",\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":_vm.addRow}},[_vm._v(\"Add Row\")]),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-file-input',{attrs:{\"dense\":\"\",\"placeholder\":\"Load excel file\",\"label\":\"File input\",\"prepend-icon\":\"mdi-paperclip\",\"show-size\":\"\"},on:{\"change\":_vm.loadExcel},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar text = ref.text;\nreturn [_c('v-chip',{attrs:{\"small\":\"\",\"label\":\"\",\"color\":\"primary\"}},[_vm._v(_vm._s(text))])]}}]),model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}}),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-spacer'),_c('v-btn',{staticClass:\"mr-2 mb-2\",attrs:{\"x-small\":\"\",\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":_vm.undoDelete}},[_vm._v(\" UNDELETE \")]),_c('v-btn',{staticClass:\"mb-2\",attrs:{\"x-small\":\"\",\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":_vm.toggleWeight}},[_vm._v(_vm._s(_vm.showWeight))]),_c('AddColumn')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ExcelJS from \"exceljs\";\r\nimport { saveAs } from \"file-saver\";\r\n\r\n//TODO check fulfilments decimal points consistency between excel and browser\r\n\r\n// Define constants\r\nconst STATUS_CLOSED = \"closed\";\r\nconst STATUS_WIP = \"wip\";\r\nconst STATUS_OPEN = \"open\";\r\nconst STATUS_NREL = \"n.rel.\";\r\n\r\nexport default class ExcelOperator {\r\n  constructor(\r\n    deliverables,\r\n    steps,\r\n    responsibles,\r\n    stepsFulfillment,\r\n    totalFulfillment\r\n  ) {\r\n    this.deliverables = deliverables;\r\n    this.steps = steps;\r\n    this.responsibles = responsibles;\r\n    this.stepsFulfillment = stepsFulfillment;\r\n    this.totalFulfillment = totalFulfillment;\r\n  }\r\n\r\n\r\n  async saveAsExcel(props) {\r\n\r\n    // console.log('rows and nested rows ',props.deliverables);\r\n    const workbook = new ExcelJS.Workbook();\r\n    const workSheet = workbook.addWorksheet(\"TestSheet\");\r\n    this.calculateFirstRow(\r\n      workSheet,\r\n      props.steps,\r\n      props.responsibles,\r\n      props.stepsFulfillment,\r\n      props.totalFulfillment\r\n    );\r\n\r\n    const tableRows = this.formTableRows(workSheet, props);\r\n    this.addFormattingFulfillmentsColumns(workSheet, props, tableRows);\r\n    this.addFormattingFirstRow(workSheet, props);\r\n    this.addStepDropDownAndColor(workSheet, props, tableRows);\r\n    this.addfulfillmentFormula(workSheet, props);\r\n    this.addFirstRowFormula(workSheet, props, tableRows);\r\n    this.addChildRowStepsFormula(workSheet, props);\r\n\r\n\r\n    const tableHeaders = [];\r\n    props.headers.forEach(header => {\r\n      tableHeaders.push({\r\n        name: header.text,\r\n        filterButton: true\r\n      });\r\n    });\r\n\r\n\r\n    workSheet.addTable({\r\n      name: \"MyTable\",\r\n      ref: \"A2\",\r\n      headerRow: true,\r\n      style: {\r\n        showRowStripes: true\r\n      },\r\n      columns: tableHeaders,\r\n      rows: tableRows\r\n    });\r\n\r\n    const buf = await workbook.xlsx.writeBuffer();\r\n\r\n    saveAs(new Blob([buf]), \"Tasks.xlsx\");\r\n  }\r\n\r\n  calculateFirstRow(\r\n    workSheet,\r\n    steps,\r\n    responsibles,\r\n    stepsFulfillment,\r\n    totalFulfillment\r\n  ) {\r\n\r\n    const emptyRows = [];\r\n    for (let index = 0; index < responsibles.length; index++) {\r\n      emptyRows.push(\"\");\r\n    }\r\n\r\n    const stepsStatus = [];\r\n    steps.forEach(step => {\r\n      stepsStatus.push(stepsFulfillment[step.identity] / 100);\r\n    });\r\n\r\n    const firstRow = [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      ...emptyRows,\r\n      ...stepsStatus,\r\n      totalFulfillment / 100\r\n    ];\r\n\r\n    const secRow = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"]\r\n    console.log('first row', firstRow)\r\n    workSheet.addRow(firstRow);\r\n  }\r\n\r\n  addFormattingFirstRow(workSheet, props) {\r\n    let offset = 3 + props.responsibles.length;\r\n    let firstColumnLetter = workSheet._columns[offset].letter;\r\n    let lastColumnLetter = workSheet._columns[offset + props.steps.length].letter;\r\n\r\n    //Add data bar formatting\r\n    workSheet.addConditionalFormatting({\r\n      ref: `${firstColumnLetter}1:${lastColumnLetter}1`,\r\n      rules: [\r\n        {\r\n          type: \"dataBar\",\r\n          color: { argb: 'C6EFCE' },\r\n          gradient: false,\r\n          cfvo: [\r\n            { type: \"num\", value: 0 },\r\n            { type: \"num\", value: 1 }\r\n          ],\r\n          style: {\r\n            font: { color: { argb: '006100' } }\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    //Add number formatting\r\n    for (let index = offset; index <= offset + props.steps.length; index++) {\r\n      let columnLetter = workSheet._columns[index].letter;\r\n      this.addNumberFormatting(workSheet, columnLetter + \"1\");\r\n    }\r\n  }\r\n\r\n  addFormattingChildRows(workSheet, childRowCell) {\r\n    // let offset = 3 + props.responsibles.length;\r\n\r\n    //Add data bar formatting\r\n    workSheet.addConditionalFormatting({\r\n      ref: `${childRowCell}`,\r\n      rules: [\r\n        {\r\n          type: \"dataBar\",\r\n          color: { argb: 'C6EFCE' },\r\n          gradient: false,\r\n          cfvo: [\r\n            { type: \"num\", value: 0 },\r\n            { type: \"num\", value: 1 }\r\n          ],\r\n          style: {\r\n            font: { color: { argb: '006100' } }\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    //Add number formatting\r\n    this.addNumberFormatting(workSheet, childRowCell);\r\n  }\r\n\r\n  addFirstRowFormula(workSheet, props, tableRows) {\r\n\r\n    const offset = 3 + props.responsibles.length;\r\n    const endPosition = offset + props.steps.length;\r\n    const weightColumnLetter = workSheet._columns[2].letter; // Assuming weight column is column C\r\n\r\n    for (let index = offset; index <= endPosition; index++) {\r\n      const statusColumnLetter = workSheet._columns[index].letter;\r\n      const statusColumnFirstCell = statusColumnLetter + \"1\";\r\n      let excludedWeights = [];\r\n      let childRowCellsCounter = 3;\r\n      let formulaComponents = [];\r\n      let countChildRows = 0;\r\n\r\n      for (let i = 1; i <= props.deliverables.length; i++) {\r\n        let deliverable = props.deliverables[i - 1];\r\n\r\n        if (deliverable && deliverable.isChild == true) {\r\n          let deliverableLength = deliverable.children.length;\r\n          console.log('run child parts')\r\n          countChildRows += 1;\r\n          // if (!excludedWeights.includes(`${weightColumnLetter}${childRowCellsCounter}`)) {\r\n          excludedWeights.push(`${weightColumnLetter}${childRowCellsCounter}`)\r\n          // }\r\n\r\n          // console.log('got true')\r\n          for (let j = 1; j <= deliverableLength; j++) {\r\n\r\n            formulaComponents.push(`(\r\n              IF(ISNUMBER(${statusColumnLetter}${childRowCellsCounter + j}), ${statusColumnLetter}${childRowCellsCounter + j}, \r\n                IF(${statusColumnLetter}${childRowCellsCounter + j}=\"${STATUS_CLOSED}\", 1, \r\n                  IF(${statusColumnLetter}${childRowCellsCounter + j}=\"${STATUS_WIP}\", 0.5, \r\n                    IF(${statusColumnLetter}${childRowCellsCounter + j}=\"${STATUS_OPEN}\", 0, \r\n                      IF(${statusColumnLetter}${childRowCellsCounter + j}=\"${STATUS_NREL}\", 0, 0)\r\n                    )\r\n                  )\r\n                )\r\n              ) * ${weightColumnLetter}${childRowCellsCounter + j}\r\n            )`);\r\n          }\r\n\r\n          // console.log('child row counter ', childRowCellsCounter);\r\n          childRowCellsCounter += deliverableLength + 1;\r\n          // console.log('child row counter ', childRowCellsCounter);\r\n        } else {\r\n          formulaComponents.push(`(\r\n            IF(ISNUMBER(${statusColumnLetter}${childRowCellsCounter}), ${statusColumnLetter}${childRowCellsCounter}, \r\n              IF(${statusColumnLetter}${childRowCellsCounter}=\"${STATUS_CLOSED}\", 1, \r\n                IF(${statusColumnLetter}${childRowCellsCounter}=\"${STATUS_WIP}\", 0.5, \r\n                  IF(${statusColumnLetter}${childRowCellsCounter}=\"${STATUS_OPEN}\", 0, \r\n                    IF(${statusColumnLetter}${childRowCellsCounter}=\"${STATUS_NREL}\", 0, 0)\r\n                  )\r\n                )\r\n              )\r\n            ) * ${weightColumnLetter}${childRowCellsCounter}\r\n          )`);\r\n          childRowCellsCounter += 1;\r\n        }\r\n\r\n        // Count the occurrences of \"n.rel.\" in the status column\r\n        const nRelCountFormula = `COUNTIF(${statusColumnLetter}${3}:${statusColumnLetter}${2 + tableRows.length}, \"n.rel.\")`;\r\n        workSheet.getCell(statusColumnFirstCell).value = {\r\n          formula: nRelCountFormula\r\n        };\r\n\r\n        // Create the formula for excluded weights\r\n        const excludedWeightsFormula = excludedWeights.map(weight => `IF(${weight} > 0, ${weight}, 0)`);\r\n        console.log('excludes weights cells', excludedWeights);\r\n        // Create the formula that considers the \"n.rel.\" condition\r\n        let formula = `=IF(${nRelCountFormula} = ${tableRows.length - countChildRows}, \"n.rel.\", \r\n              IFERROR(SUM(${formulaComponents.join(\", \")}), \"\") / \r\n                (SUM(${weightColumnLetter}${3}:${weightColumnLetter}${2 + tableRows.length}) - \r\n                SUMIF(${statusColumnLetter}${3}:${statusColumnLetter}${2 + tableRows.length},\r\n                  \"n.rel.\", ${weightColumnLetter}${3}:${weightColumnLetter}${2 + tableRows.length}) \r\n                      - SUM(${excludedWeights.length > 0 ? excludedWeights : 0})\r\n                  ))`;\r\n        workSheet.getCell(statusColumnFirstCell).value = {\r\n          formula: formula\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  addFirstRowFormula2(workSheet, props, tableRows) {\r\n\r\n    const offset = 3 + props.responsibles.length;\r\n    const endPosition = offset + props.steps.length;\r\n    const weightColumnLetter = workSheet._columns[2].letter; // Assuming weight column is column C\r\n    const lastColumnIndex = props.deliverables.length + 2;\r\n    console.log('delver leng', props.deliverables)\r\n\r\n    for (let index = offset; index <= endPosition; index++) {\r\n      const statusColumnLetter = workSheet._columns[index].letter;\r\n      const statusColumnFirstCell = statusColumnLetter + \"1\";\r\n      let childRowCellsCounter = 3;\r\n      let weightColumnValue = workSheet.getCell(weightColumnLetter + childRowCellsCounter).value\r\n\r\n      let formula = `=IFERROR((COUNTIF(${statusColumnLetter}${childRowCellsCounter}:${statusColumnLetter}${lastColumnIndex},\"${STATUS_CLOSED}\") \r\n          +COUNTIF(${statusColumnLetter}${childRowCellsCounter}:${statusColumnLetter}${lastColumnIndex},\"${STATUS_WIP}\")* 0.5) / \r\n          (COUNTIF(${statusColumnLetter}${childRowCellsCounter}:${statusColumnLetter}${lastColumnIndex},\"${STATUS_OPEN}\") \r\n          +COUNTIF(${statusColumnLetter}${childRowCellsCounter}:${statusColumnLetter}${lastColumnIndex},\"${STATUS_WIP}\") \r\n          +COUNTIF(${statusColumnLetter}${childRowCellsCounter}:${statusColumnLetter}${lastColumnIndex},\"${STATUS_CLOSED}\")) ,\"${STATUS_NREL}\")`;\r\n\r\n      workSheet.getCell(statusColumnFirstCell).value = {\r\n        formula: formula\r\n      };\r\n    }\r\n  }\r\n\r\n  addFirstRowFormula3(workSheet, props, tableRows) {\r\n    const offset = 3 + props.responsibles.length;\r\n    const endPosition = offset + props.steps.length;\r\n    const weightColumnLetter = workSheet._columns[2].letter; // Assuming weight column is column C\r\n    const lastColumnIndex = props.deliverables.length + 2;\r\n\r\n    for (let index = offset; index <= endPosition; index++) {\r\n      const statusColumnLetter = workSheet._columns[index].letter;\r\n      const statusColumnFirstCell = statusColumnLetter + \"1\";\r\n      const firstDataRow = 3; // Starting row for data\r\n      const lastDataRow = firstDataRow + tableRows.length - 1;\r\n\r\n      // Calculate the SUMPRODUCT and SUM with conditions to ignore STATUS_NREL\r\n      const formula = `=IFERROR(\r\n        SUMPRODUCT(\r\n          (((${statusColumnLetter}${firstDataRow}:${statusColumnLetter}${lastDataRow} = \"${STATUS_CLOSED}\") +\r\n            (${statusColumnLetter}${firstDataRow}:${statusColumnLetter}${lastDataRow} = \"${STATUS_WIP}\") * 0.5) *\r\n            (${weightColumnLetter}${firstDataRow}:${weightColumnLetter}${lastDataRow})) *\r\n            ((${statusColumnLetter}${firstDataRow}:${statusColumnLetter}${lastDataRow} <> \"${STATUS_NREL}\") * 1)\r\n        ) /\r\n        SUMIFS(\r\n          ${weightColumnLetter}${firstDataRow}:${weightColumnLetter}${lastDataRow},\r\n          ${statusColumnLetter}${firstDataRow}:${statusColumnLetter}${lastDataRow},\r\n          \"<> ${STATUS_NREL}\"\r\n        ),\r\n        \"${STATUS_NREL}\"\r\n      )`;\r\n\r\n      workSheet.getCell(statusColumnFirstCell).value = {\r\n        formula: formula\r\n      };\r\n    }\r\n  }\r\n\r\n  addChildRowStepsFormula(workSheet, props) {\r\n\r\n    const offset = 3 + props.responsibles.length;\r\n    const endPosition = offset + props.steps.length;\r\n    const weightColumnLetter = workSheet._columns[2].letter; // Assuming weight column is column C\r\n\r\n    for (let index = offset; index <= endPosition; index++) {\r\n      const statusColumnLetter = workSheet._columns[index].letter;\r\n      let childRowCellsCounter = 3;\r\n\r\n      for (let i = 1; i <= props.deliverables.length; i++) {\r\n        let deliverable = props.deliverables[i - 1];\r\n        const ChildRowsFormulaComponents = [];\r\n        let deliverableLength;\r\n        const childRowCell = statusColumnLetter + `${childRowCellsCounter}`;\r\n\r\n        if (deliverable && deliverable.isChild == true) {\r\n\r\n          this.addFormattingChildRows(workSheet, childRowCell);\r\n\r\n          deliverableLength = deliverable.children.length;\r\n\r\n          for (let j = 1; j <= deliverableLength; j++) {\r\n            ChildRowsFormulaComponents.push(`(\r\n              IF(ISNUMBER(${statusColumnLetter}${childRowCellsCounter + j}), ${statusColumnLetter}${childRowCellsCounter + j}, \r\n                IF(${statusColumnLetter}${childRowCellsCounter + j}=\"${STATUS_CLOSED}\", 1, \r\n                  IF(${statusColumnLetter}${childRowCellsCounter + j}=\"${STATUS_WIP}\", 0.5, \r\n                    IF(${statusColumnLetter}${childRowCellsCounter + j}=\"${STATUS_OPEN}\", 0, \r\n                      IF(${statusColumnLetter}${childRowCellsCounter + j}=\"${STATUS_NREL}\", 0, 0)\r\n                    )\r\n                  )\r\n                )\r\n              ) * ${weightColumnLetter}${childRowCellsCounter + j}\r\n            )`);\r\n          }\r\n          // Count the occurrences of \"n.rel.\" in the status column\r\n          let nRelCountFormulaChild = `COUNTIF(${statusColumnLetter}${childRowCellsCounter + 1}:${statusColumnLetter}${childRowCellsCounter + deliverableLength}, \"n.rel.\")`;\r\n          // workSheet.getCell(childRowCell).value = {\r\n          //   formula: nRelCountFormulaChild\r\n          // };\r\n\r\n          // Create the formula that considers the \"n.rel.\" condition\r\n          let childRowFormula = `=IF(${nRelCountFormulaChild} = ${deliverableLength}, \"n.rel.\", \r\n            IFERROR(SUM(${ChildRowsFormulaComponents.join(\", \")}), \"\") / \r\n              (SUM(${weightColumnLetter}${childRowCellsCounter + 1}:${weightColumnLetter}${childRowCellsCounter + deliverableLength}) - \r\n              SUMIF(${statusColumnLetter}${childRowCellsCounter + 1}:${statusColumnLetter}${childRowCellsCounter + deliverableLength},\r\n                \"n.rel.\", ${weightColumnLetter}${childRowCellsCounter + 1}:${weightColumnLetter}${childRowCellsCounter + deliverableLength})))`;\r\n\r\n          // console.log('child row cell', childRowFormula);\r\n          workSheet.getCell(childRowCell).value = {\r\n            formula: childRowFormula\r\n          };\r\n\r\n          console.log(`child row cell formula and the cell is ${childRowCell}`, workSheet.getCell(childRowCell).value)\r\n          childRowCellsCounter += deliverableLength + 1;\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  addDropDownAndColor(workSheet, targetCell) {\r\n    workSheet.getCell(targetCell).dataValidation = {\r\n      type: \"list\",\r\n      allowBlank: true,\r\n      formulae: [`\"${STATUS_OPEN},${STATUS_WIP},${STATUS_CLOSED},${STATUS_NREL}\"`]\r\n    };\r\n    this.addColorFormatting(workSheet, targetCell);\r\n  }\r\n\r\n  addStepDropDownAndColor(workSheet, props, tableRows) {\r\n    // console.log('deliverables inside the addStepDropdown and color', props.deliverables);\r\n\r\n    let columnOffset = 3 + props.responsibles.length;\r\n    let endPosition = columnOffset + props.steps.length - 1;\r\n\r\n    for (let index = columnOffset; index <= endPosition; index++) {\r\n      let inc = 3;\r\n\r\n      let columnLetter = workSheet._columns[index].letter;\r\n\r\n      for (let i = 1; i <= props.deliverables.length; i++) {\r\n        let targetCell;\r\n        let deliverable = props.deliverables[i - 1];\r\n\r\n        if (deliverable && deliverable.isChild == true) {\r\n          inc += 1;\r\n          for (let j = 1; j < deliverable.children.length; j++) {\r\n            targetCell = `${columnLetter}${inc}`;\r\n            this.addDropDownAndColor(workSheet, targetCell);\r\n            inc += 1;\r\n            // console.log('inc value', inc)\r\n          }\r\n        }\r\n        targetCell = `${columnLetter}${inc}`;\r\n        this.addDropDownAndColor(workSheet, targetCell);\r\n        inc += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  addFormattingFulfillmentsColumns(workSheet, props, tableRows) {\r\n    let offset = 3 + props.responsibles.length + props.steps.length;\r\n    let columnLetter = workSheet._columns[offset].letter;\r\n\r\n    //Add data bar formatting\r\n    workSheet.addConditionalFormatting({\r\n      ref: `${columnLetter}${3}:${columnLetter}${tableRows.length +\r\n        2}`,\r\n      rules: [\r\n        {\r\n          type: \"dataBar\",\r\n          color: { argb: 'C6EFCE' },\r\n          gradient: false,\r\n          cfvo: [\r\n            { type: \"num\", value: 0 },\r\n            { type: \"num\", value: 1 }\r\n          ],\r\n          style: {\r\n            font: { color: { argb: '006100' } }\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    //Add number formatting                                                          \r\n    for (let index = 1; index <= tableRows.length; index++) {\r\n      this.addNumberFormatting(workSheet, columnLetter + (index + 2));\r\n    }\r\n  }\r\n\r\n  addfulfillmentFormulaHelper(firstColumnLetter, lastColumnLetter, childRowCellsCounter) {\r\n    let formula = `=IFERROR((COUNTIF(${firstColumnLetter}${childRowCellsCounter}:${lastColumnLetter}${childRowCellsCounter},\"${STATUS_CLOSED}\") \r\n          +COUNTIF(${firstColumnLetter}${childRowCellsCounter}:${lastColumnLetter}${childRowCellsCounter},\"${STATUS_WIP}\")* 0.5) / \r\n          (COUNTIF(${firstColumnLetter}${childRowCellsCounter}:${lastColumnLetter}${childRowCellsCounter},\"${STATUS_OPEN}\") \r\n          +COUNTIF(${firstColumnLetter}${childRowCellsCounter}:${lastColumnLetter}${childRowCellsCounter},\"${STATUS_WIP}\") \r\n          +COUNTIF(${firstColumnLetter}${childRowCellsCounter}:${lastColumnLetter}${childRowCellsCounter},\"${STATUS_CLOSED}\")) ,\"${STATUS_NREL}\")`;\r\n    return formula;\r\n  }\r\n\r\n  addfulfillmentFormula(workSheet, props) {\r\n\r\n    let offset = 3 + props.responsibles.length + props.steps.length;\r\n    let fulfillmentColumnLetter = workSheet._columns[offset].letter;\r\n    let columnOffset = 3 + props.responsibles.length;\r\n    let childRowCellsCounter = 3;\r\n\r\n    let firstColumnLetter = workSheet._columns[columnOffset].letter;\r\n    let lastColumnLetter = workSheet._columns[columnOffset + props.steps.length - 1].letter;\r\n\r\n    for (let i = 1; i <= props.deliverables.length; i++) {\r\n      const deliverable = props.deliverables[i - 1];\r\n      let deliverableLength;\r\n\r\n      if (deliverable && deliverable.isChild === true) {\r\n        deliverableLength = deliverable.children.length;\r\n\r\n        for (let j = 1; j <= deliverableLength; j++) {\r\n          let formula = this.addfulfillmentFormulaHelper(firstColumnLetter, lastColumnLetter, childRowCellsCounter + j);\r\n          let fulfillmentCell = `${fulfillmentColumnLetter}${childRowCellsCounter + j}`;\r\n          // console.log('fullfillment cell is ', fulfillmentCell);\r\n          workSheet.getCell(fulfillmentCell).value = {\r\n            formula: formula\r\n          };\r\n        }\r\n        childRowCellsCounter += deliverableLength + 1;\r\n      } else {\r\n        let formula = this.addfulfillmentFormulaHelper(firstColumnLetter, lastColumnLetter, childRowCellsCounter);\r\n        let fulfillmentCell = `${fulfillmentColumnLetter}${childRowCellsCounter}`;\r\n        workSheet.getCell(fulfillmentCell).value = {\r\n          formula: formula\r\n        };\r\n        childRowCellsCounter += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  addNumberFormatting(workSheet, cell) {\r\n    workSheet.getCell(cell).numFmt = \"0%\";\r\n  }\r\n\r\n  formTableRows(workSheet, props) {\r\n    const tableRows = [];\r\n\r\n    props.deliverables.forEach((item, index) => {\r\n      let itemValues = [];\r\n\r\n      if (item.isChild) {\r\n\r\n        const responsibles = [];\r\n\r\n        props.responsibles.forEach(r => {\r\n          responsibles.push(item[r.identity])\r\n        });\r\n\r\n        console.log('responsible rows', responsibles)\r\n\r\n        const firstRow = [\r\n          item.id,\r\n          item.description,\r\n          item.weight,\r\n          ...responsibles\r\n        ]\r\n\r\n        tableRows.push(firstRow);\r\n\r\n        item.children.forEach((row, index) => {\r\n          let childValues = [];\r\n          childValues.push(row.id);\r\n          childValues.push(row.description);\r\n          childValues.push(parseFloat(row.weight));\r\n\r\n          props.responsibles.forEach(r => {\r\n            childValues.push(row[r.identity]);\r\n          });\r\n\r\n          props.steps.forEach(s => {\r\n            childValues.push(row[s.identity]);\r\n          });\r\n\r\n          tableRows.push(childValues);\r\n        });\r\n      } else {\r\n        itemValues.push(item.id);\r\n        itemValues.push(item.description);\r\n        itemValues.push(parseFloat(item.weight));\r\n\r\n        props.responsibles.forEach(r => {\r\n          itemValues.push(item[r.identity]);\r\n        });\r\n\r\n        props.steps.forEach(s => {\r\n          itemValues.push(item[s.identity]);\r\n        });\r\n\r\n        tableRows.push(itemValues);\r\n      }\r\n\r\n    });\r\n    // console.log('table rows', tableRows);\r\n    return tableRows;\r\n  }\r\n\r\n  addColorFormatting(workSheet, targetCell) {\r\n    workSheet.addConditionalFormatting({\r\n      ref: targetCell,\r\n      rules: [\r\n        {\r\n          type: \"cellIs\",\r\n          operator: \"equal\",\r\n          color: { argb: \"FF00FF00\" },\r\n          formulae: [`\"${STATUS_CLOSED}\"`],\r\n          style: {\r\n            fill: {\r\n              type: \"pattern\",\r\n              pattern: \"solid\",\r\n              bgColor: { argb: 'C6EFCE' },\r\n            },\r\n            font: { color: { argb: '006100' } }\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    workSheet.addConditionalFormatting({\r\n      ref: targetCell,\r\n      rules: [\r\n        {\r\n          type: \"cellIs\",\r\n          operator: \"equal\",\r\n          color: { argb: \"FF00FF00\" },\r\n          formulae: [`\"${STATUS_OPEN}\"`],\r\n          style: {\r\n            fill: {\r\n              type: \"pattern\",\r\n              pattern: \"solid\",\r\n              bgColor: { argb: 'FFC7CE' }\r\n            },\r\n            font: { color: { argb: '9C0006' } }\r\n          },\r\n        }\r\n      ]\r\n    });\r\n\r\n    workSheet.addConditionalFormatting({\r\n      ref: targetCell,\r\n      rules: [\r\n        {\r\n          type: \"cellIs\",\r\n          operator: \"equal\",\r\n          color: { argb: \"FF00FF00\" },\r\n          formulae: [`\"${STATUS_WIP}\"`],\r\n          style: {\r\n            fill: {\r\n              type: \"pattern\",\r\n              pattern: \"solid\",\r\n              bgColor: { argb: 'FFEB9C' }\r\n            },\r\n            font: { color: { argb: '9C6500' } }\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    workSheet.addConditionalFormatting({\r\n      ref: targetCell,\r\n      rules: [\r\n        {\r\n          type: \"cellIs\",\r\n          operator: \"equal\",\r\n          color: { argb: \"FF00FF00\" },\r\n          formulae: [`\"${STATUS_NREL}\"`],\r\n          style: {\r\n            fill: {\r\n              type: \"pattern\",\r\n              pattern: \"solid\",\r\n              bgColor: { argb: '' }\r\n            },\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  }\r\n\r\n  async loadExcel(props) {\r\n    let laodTable = [];\r\n    const wb = new ExcelJS.Workbook();\r\n    const reader = new FileReader();\r\n\r\n    reader.readAsArrayBuffer(props.file);\r\n    return new Promise(resolve => {\r\n      reader.onload = async () => {\r\n        const buffer = reader.result;\r\n        const workbook = await wb.xlsx.load(buffer);\r\n\r\n        // let sheet = workbook.getWorksheet(\"TestSheet\");\r\n        let sheet = workbook.getWorksheet(1);\r\n\r\n        let firstStepColumnNumber = 4;\r\n        let lastStepColumnNumber = 0;\r\n        let firstResponsibleColumnNumber = 0;\r\n        let lastResponsibleColumnNumber = 0;\r\n        let offset = 3;\r\n        let headerValues;\r\n        sheet.eachRow((row, rowNumber) => {\r\n          if (rowNumber < 2) {\r\n            return;\r\n          }\r\n\r\n          //Remove the unwanted empty row that exceljs loads\r\n          let rowValues = row.values;\r\n          rowValues.shift();\r\n\r\n          if (rowNumber == 2) {\r\n            headerValues = rowValues;\r\n            return;\r\n          }\r\n\r\n          if (rowNumber == 3) {\r\n            rowValues.some((value, index) => {\r\n              if (\r\n                value == `${STATUS_OPEN}` ||\r\n                value == `${STATUS_WIP}` ||\r\n                value == `${STATUS_CLOSED}` ||\r\n                value == `${STATUS_NREL}`\r\n              ) {\r\n                firstStepColumnNumber = index + 1;\r\n                return true;\r\n              }\r\n            });\r\n\r\n            if (firstStepColumnNumber - offset != 1) {\r\n              firstResponsibleColumnNumber = offset + 1;\r\n              lastResponsibleColumnNumber = firstStepColumnNumber - 1;\r\n            }\r\n            lastStepColumnNumber = rowValues.length - 1;\r\n          }\r\n\r\n          // console.log(rowValues);\r\n\r\n          const loadingObject = {\r\n            id: row.getCell(1).value,\r\n            description: row.getCell(2).value,\r\n            weight: row.getCell(3).value,\r\n            showEditDialog: false\r\n          };\r\n\r\n          let counter = 1;\r\n          if (firstResponsibleColumnNumber != 0) {\r\n            for (\r\n              let start = firstResponsibleColumnNumber;\r\n              start <= lastResponsibleColumnNumber;\r\n              start++\r\n            ) {\r\n              if (counter == 1) {\r\n                loadingObject[\"responsible\"] = row.getCell(start).value;\r\n              } else {\r\n                loadingObject[\"responsible\" + counter] = row.getCell(\r\n                  start\r\n                ).value;\r\n              }\r\n              counter++;\r\n            }\r\n          }\r\n\r\n          counter = 1;\r\n          for (\r\n            let start = firstStepColumnNumber;\r\n            start <= lastStepColumnNumber;\r\n            start++\r\n          ) {\r\n            loadingObject[\"step\" + counter] = row.getCell(start).value;\r\n            counter++;\r\n          }\r\n          loadingObject[\"fulfillment\"] = row.getCell(rowValues.length).value;\r\n\r\n          // console.log(loadingObject);\r\n          laodTable.push(loadingObject);\r\n        });\r\n\r\n        //Forming responsibles array (if any) to return it as props to be used for loading in the browser\r\n\r\n        let responsibles = [];\r\n        let responsiblesCounter = 1;\r\n        if (firstResponsibleColumnNumber != 0) {\r\n          for (\r\n            let i = firstResponsibleColumnNumber;\r\n            i <= lastResponsibleColumnNumber;\r\n            i++\r\n          ) {\r\n            if (responsiblesCounter == 1) {\r\n              responsibles.push({\r\n                text: headerValues[i - 1],\r\n                identity: `responsible`\r\n              });\r\n            } else {\r\n              responsibles.push({\r\n                text: headerValues[i - 1],\r\n                identity: `responsible${responsiblesCounter}`\r\n              });\r\n            }\r\n            responsiblesCounter++;\r\n          }\r\n        }\r\n        //Forming steps array to return it as props to be used for loading in the browser\r\n        const steps = [];\r\n        let stepCounter = 1;\r\n        for (let i = firstStepColumnNumber; i <= lastStepColumnNumber; i++) {\r\n          steps.push({\r\n            text: headerValues[i - 1],\r\n            identity: `step${stepCounter}`\r\n          });\r\n          stepCounter++;\r\n        }\r\n\r\n        //Forming headers array to return it as props to be used for loading in the browser\r\n        //The following 'headers' object was copied from store's statusTable. Refactoring may be needed\r\n        //to use only one\r\n\r\n        const headers = [\r\n\r\n          {\r\n            text: \"No\",\r\n            align: \"start\",\r\n            value: \"id\",\r\n            sortable: true,\r\n            editable: false,\r\n            headerEditable: false\r\n          },\r\n          { text: \"Description\", value: \"description\", editable: true },\r\n          { text: \"Weight\", value: \"weight\", editable: true },\r\n\r\n          { text: \"Fulfillment\", value: \"fulfillment\", editable: false },\r\n\r\n        ];\r\n\r\n        //Add responsibles columns (if any) to headers array\r\n        responsiblesCounter = 1;\r\n        if (responsibles.length > 0) {\r\n          for (\r\n            let i = firstResponsibleColumnNumber;\r\n            i <= lastResponsibleColumnNumber;\r\n            i++\r\n          ) {\r\n            if (responsiblesCounter == 1) {\r\n              headers.splice(i - 1, 0, {\r\n                text: `${headerValues[i - 1]}`,\r\n                value: \"responsible\",\r\n                editable: true,\r\n                sortable: false,\r\n                headerEditable: true\r\n              });\r\n            } else {\r\n              headers.splice(i - 1, 0, {\r\n                text: `${headerValues[i - 1]}`,\r\n                value: `responsible${responsiblesCounter}`,\r\n                editable: true,\r\n                sortable: false,\r\n                headerEditable: true\r\n              });\r\n            }\r\n\r\n            responsiblesCounter++;\r\n          }\r\n        }\r\n\r\n        //Add steps columns to headers array\r\n        stepCounter = 1;\r\n        for (let i = firstStepColumnNumber; i <= lastStepColumnNumber; i++) {\r\n          headers.splice(i - 1, 0, {\r\n            text: `${headerValues[i - 1]}`,\r\n            value: `step${stepCounter}`,\r\n            editable: true,\r\n            sortable: false,\r\n            headerEditable: true\r\n          });\r\n          stepCounter++;\r\n        }\r\n        const props = {\r\n          deliverables: laodTable,\r\n          responsibles: responsibles,\r\n          steps: steps,\r\n          headers: headers\r\n        };\r\n        resolve(props);\r\n      };\r\n    }).then(props => {\r\n      return props;\r\n    });\r\n  }\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-btn',{staticClass:\"mx-2 mb-2\",attrs:{\"x-small\":\"\",\"dark\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.addColumn('Status')}}},[_vm._v(\"ADD STATUS COLUMN\")]),_c('v-btn',{staticClass:\"mx-2 mb-2\",attrs:{\"x-small\":\"\",\"dark\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.addColumn('Responsible')}}},[_vm._v(\"ADD RESPONSIBLE COLUMN\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-btn x-small class=\"mx-2 mb-2\" dark color=\"primary\" @click=\"addColumn('Status')\"\r\n      >ADD STATUS COLUMN</v-btn\r\n    >\r\n    <v-btn x-small class=\"mx-2 mb-2\" dark color=\"primary\" @click=\"addColumn('Responsible')\"\r\n      >ADD RESPONSIBLE COLUMN</v-btn\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport FulfilmentsUtil from \"../utils/fulfilments-util\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      stepOffset: 3,\r\n      nextColumnName: this.getNextColumnName(\"Status\"),\r\n      rules: {\r\n        counter: (value) => value.length <= 20 || \"Max 20 characters\",\r\n        required: (value) => !!value || \"Required.\",\r\n        alreadyExist: (value) => {\r\n          return (\r\n            !this.headers.find((header) => {\r\n              return value.toLowerCase() === header.text.toLowerCase();\r\n            }) || \"Column name already exist\"\r\n          );\r\n        },\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    getNextColumnName(columnType) {\r\n      return this.$store.getters.getNextColumnName(columnType);\r\n    },\r\n    addColumn(columnType) {\r\n      this.nextColumnName = this.getNextColumnName(columnType);\r\n      if (this.rules.required(this.nextColumnName) === true && this.rules.alreadyExist(this.nextColumnName) === true) {\r\n        if (columnType === \"Status\") {\r\n          this.addStatusColumn();\r\n        } else {\r\n          this.addResponsibleColumn();\r\n        }\r\n\r\n        this.$store.dispatch(\"setHeaders\", this.headers);\r\n        this.$store.dispatch(\"setDeliverables\", this.deliverables);\r\n        this.$store.dispatch(\"setNextColumnName\", columnType);\r\n      }\r\n    },\r\n    addStatusColumn() {\r\n      let stepLength = this.steps.length;\r\n      let stepText = this.nextColumnName;\r\n      let stepIdentity = `step${stepLength + 1}`;\r\n      //Add new added step to headers array\r\n      this.headers.splice(this.headers.length - 1, 0, {\r\n        text: stepText,\r\n        value: stepIdentity,\r\n        editable: true,\r\n        sortable: false,\r\n        headerEditable: true,\r\n        columnDeleteIcon: false,\r\n      });\r\n\r\n      this.steps.push({ text: stepText, identity: stepIdentity });\r\n      //Change all row to have new added column value as 'open'\r\n      this.deliverables.forEach((item) => {\r\n        //This should be used instead of the above commented array form to add reactivity to all newly added column cells.\r\n        if (item.isGrouped) {\r\n          item.children.map((child) => {\r\n            this.$set(child, stepIdentity, \"open\");\r\n          });\r\n        } else {\r\n          this.$set(item, stepIdentity, \"open\");\r\n        }\r\n      });\r\n\r\n      const util = new FulfilmentsUtil();\r\n      util.recalculateAllFulfillments(this.deliverables, this.steps);\r\n\r\n      this.$store.dispatch(\"setSteps\", this.steps);\r\n    },\r\n    addResponsibleColumn() {\r\n      let responsiblesLength = this.responsibles.length;\r\n      let responsiblesText = this.nextColumnName;\r\n      let responsibleIdentity = this.$store.getters.nextResponsibleIdentity;\r\n\r\n      this.headers.splice(responsiblesLength + this.stepOffset, 0, {\r\n        text: responsiblesText,\r\n        value: responsibleIdentity,\r\n        editable: true,\r\n        sortable: false,\r\n        headerEditable: true,\r\n        columnDeleteIcon: false,\r\n      });\r\n\r\n      this.responsibles.push({\r\n        text: responsiblesText,\r\n        identity: responsibleIdentity,\r\n      });\r\n\r\n      this.$store.dispatch(\"setResponsibles\", this.responsibles);\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    ...mapState([\"statusTable\"]),\r\n    headers() {\r\n      return this.statusTable.headers;\r\n    },\r\n    deliverables() {\r\n      return this.statusTable.deliverables;\r\n    },\r\n    responsibles() {\r\n      return this.statusTable.responsibles;\r\n    },\r\n    steps() {\r\n      return this.statusTable.steps;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddColumn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddColumn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddColumn.vue?vue&type=template&id=293a388d&\"\nimport script from \"./AddColumn.vue?vue&type=script&lang=js&\"\nexport * from \"./AddColumn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","<template>\r\n  <v-toolbar height=\"32\" class=\"mb-0 mt-0\" flat color=\"white\">\r\n    <v-toolbar-title>Tasks</v-toolbar-title>\r\n    <v-divider class=\"mx-4\" inset vertical></v-divider>\r\n    <v-btn x-small color=\"primary\" dark class=\"mb-2\" @click=\"generateExcel\">Generate Excel</v-btn>\r\n\r\n    <v-btn x-small color=\"primary\" dark class=\"mb-2 ml-2\" @click=\"adjustSize\">{{ adjustText }}</v-btn>\r\n\r\n    <v-btn x-small color=\"primary\" dark class=\"mb-2 ml-2\" @click=\"addRow\">Add Row</v-btn>\r\n    <v-divider class=\"mx-4\" inset vertical></v-divider>\r\n\r\n    <v-file-input\r\n      dense\r\n      v-model=\"file\"\r\n      placeholder=\"Load excel file\"\r\n      label=\"File input\"\r\n      prepend-icon=\"mdi-paperclip\"\r\n      show-size\r\n      @change=\"loadExcel\"\r\n    >\r\n      <template v-slot:selection=\"{ text }\">\r\n        <v-chip small label color=\"primary\">{{ text }}</v-chip>\r\n      </template>\r\n    </v-file-input>\r\n    <v-divider class=\"mx-4\" inset vertical></v-divider>\r\n\r\n    <v-spacer></v-spacer>\r\n    <v-btn x-small color=\"primary\" dark class=\"mr-2 mb-2\" @click=\"undoDelete\"> UNDELETE </v-btn>\r\n    <v-btn x-small color=\"primary\" dark class=\"mb-2\" @click=\"toggleWeight\">{{ showWeight }}</v-btn>\r\n    <AddColumn />\r\n  </v-toolbar>\r\n</template>\r\n\r\n<script>\r\nimport ExcelOperator from \"../../utils/excel-operator\";\r\nimport { mapState } from \"vuex\";\r\nimport FulfilmentsUtil from \"../../utils/fulfilments-util\";\r\nimport AddColumn from \"@/components/AddColumn\";\r\nconst util = new FulfilmentsUtil();\r\n\r\nexport default {\r\n  props: [\"showWeight\"],\r\n  emits: [\"handleShowWeight\", \"handleUndelete\"],\r\n  data: () => ({\r\n    horizontalAdjusted: false,\r\n    adjustText: \"Fit On Page\",\r\n    heightScale: 0,\r\n    widthScale: 0,\r\n    file: null,\r\n  }),\r\n  components: {\r\n    AddColumn,\r\n  },\r\n  computed: {\r\n    stepsFulfillment() {\r\n      return this.$store.getters.stepsFulfillment;\r\n    },\r\n    ...mapState([\"statusTable\"]),\r\n    headers() {\r\n      return this.statusTable.headers;\r\n    },\r\n    filteredHeaders() {\r\n      // console.log('headers arr', this.statusTable.headers)\r\n      // Add a checkbox header\r\n      return this.statusTable.headers.filter((item) => {\r\n        if (this.showWeight === \"Show Weight\") {\r\n          return item.value !== \"weight\";\r\n        } else {\r\n          return true;\r\n        }\r\n      });\r\n    },\r\n    deliverables() {\r\n      return this.statusTable.deliverables;\r\n    },\r\n    responsibles() {\r\n      return this.statusTable.responsibles;\r\n    },\r\n    steps() {\r\n      return this.statusTable.steps;\r\n    },\r\n    totalFulfillment() {\r\n      return Math.round(this.$store.getters.totalFulfillment);\r\n    },\r\n  },\r\n  methods: {\r\n    generateExcel() {\r\n      const excelOperator = new ExcelOperator(\r\n        this.deliverables,\r\n        this.steps,\r\n        this.responsibles,\r\n        this.stepsFulfillment,\r\n        this.totalFulfillment\r\n      );\r\n      const passObject = {\r\n        deliverables: this.deliverables,\r\n        headers: this.headers,\r\n        steps: this.steps,\r\n        responsibles: this.responsibles,\r\n        stepsFulfillment: this.stepsFulfillment,\r\n        totalFulfillment: this.totalFulfillment,\r\n      };\r\n      excelOperator.saveAsExcel(passObject);\r\n    },\r\n    adjustSize() {\r\n      const table = document.getElementsByTagName(\"table\")[0];\r\n      const tableWrapper = document.getElementsByClassName(\"v-data-table__wrapper\")[0];\r\n      if (this.adjustText === \"Normal Size\") {\r\n        if (!this.horizontalAdjusted) {\r\n          tableWrapper.style.width = tableWrapper.clientWidth * this.heightScale + \"px\";\r\n        }\r\n        table.style.transform = `scale(1)`;\r\n        this.adjustText = \"Fit On Page\";\r\n      } else {\r\n        const containerWidth = tableWrapper.clientWidth;\r\n        const containerHeight = tableWrapper.clientHeight;\r\n        const scrollWidth = tableWrapper.scrollWidth;\r\n        const scrollHeight = tableWrapper.scrollHeight;\r\n        this.widthScale = containerWidth / scrollWidth;\r\n        this.heightScale = containerHeight / scrollHeight;\r\n\r\n        if (this.widthScale < this.heightScale) {\r\n          table.style.transform = `scale(${this.widthScale})`;\r\n          this.horizontalAdjusted = true;\r\n        } else {\r\n          table.style.transform = `scale(${this.heightScale})`;\r\n\r\n          tableWrapper.style.width = tableWrapper.clientWidth / this.heightScale + \"px\";\r\n          this.horizontalAdjusted = false;\r\n        }\r\n        this.adjustText = \"Normal Size\";\r\n      }\r\n    },\r\n    addRow() {\r\n      let id = 1;\r\n      let tasksLength = this.deliverables.length;\r\n      if (tasksLength !== 0) {\r\n        id = this.deliverables[tasksLength - 1].id + 1;\r\n      }\r\n      const row = {\r\n        id: id,\r\n        description: \"\",\r\n        responsible: \"\",\r\n        weight: 1,\r\n        fulfillment: 0,\r\n        showEditDialog: false,\r\n      };\r\n\r\n      this.steps.forEach((step) => {\r\n        let identity = step.identity;\r\n        row[identity] = \"open\";\r\n      });\r\n\r\n      this.deliverables.push(row);\r\n      this.$store.dispatch(\"setDeliverables\", this.deliverables);\r\n    },\r\n    async loadExcel() {\r\n      if (this.file) {\r\n        //TODO for later steps make another constructor for laod excel\r\n        const excelOperator = new ExcelOperator(\r\n          this.deliverables,\r\n          this.steps,\r\n          this.responsibles,\r\n          this.stepsFulfillment,\r\n          this.totalFulfillment\r\n        );\r\n\r\n        const passObject = {\r\n          file: this.file,\r\n          deliverables: this.deliverables,\r\n          headers: this.headers,\r\n          steps: this.steps,\r\n          responsibles: this.responsibles,\r\n          stepsFulfillment: this.stepsFulfillment,\r\n          totalFulfillment: this.totalFulfillment,\r\n        };\r\n\r\n        let returnedProps = await excelOperator.loadExcel(passObject);\r\n\r\n        util.recalculateAllFulfillments(returnedProps.deliverables, returnedProps.steps);\r\n\r\n        this.$store.dispatch(\"setDeliverables\", returnedProps.deliverables);\r\n        this.$store.dispatch(\"setSteps\", returnedProps.steps);\r\n        this.$store.dispatch(\"setResponsibles\", returnedProps.responsibles);\r\n        this.$store.dispatch(\"setHeaders\", returnedProps.headers);\r\n        this.$store.dispatch(\"setRowCounterToZero\", 0);\r\n      }\r\n    },\r\n    toggleWeight() {\r\n      this.$emit(\"handleShowWeight\");\r\n    },\r\n    undoDelete() {\r\n      this.$emit(\"handleUndelete\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=69ba6d1e&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VChip,VDivider,VFileInput,VSpacer,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.header.headerEditable)?_c('v-edit-dialog',{on:{\"open\":function($event){return _vm.headerTextFieldOpen(_vm.header.text)},\"save\":function($event){return _vm.changeHeader(_vm.header)}},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('v-text-field',{attrs:{\"value\":_vm.header.text,\"rules\":[_vm.rules.required, _vm.rules.alreadyExist],\"counter\":\"\",\"maxlength\":\"20\",\"label\":\"Edit\",\"single-line\":\"\"},on:{\"focus\":function($event){return $event.target.select()},\"change\":function($event){return _vm.inputChanged($event)}}})]},proxy:true}],null,false,1862401062)},[_c('span',[_c('span',[_vm._v(\" \"+_vm._s(_vm.header.text)+\" \")])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- Step's header edit dialog -->\r\n  <v-edit-dialog\r\n    class=\"\"\r\n    v-if=\"header.headerEditable\"\r\n    @open=\"headerTextFieldOpen(header.text)\"\r\n    @save=\"changeHeader(header)\"\r\n  >\r\n    <!-- step title -->\r\n    <span>\r\n      <span>\r\n        {{ header.text }}\r\n      </span>\r\n      <!-- edit text field -->\r\n    </span>\r\n    <template v-slot:input>\r\n      <v-text-field\r\n        @focus=\"$event.target.select()\"\r\n        :value=\"header.text\"\r\n        @change=\"inputChanged($event)\"\r\n        :rules=\"[rules.required, rules.alreadyExist]\"\r\n        counter\r\n        maxlength=\"20\"\r\n        label=\"Edit\"\r\n        single-line\r\n      ></v-text-field>\r\n    </template>\r\n  </v-edit-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"header\"],\r\n  emits: [\"handleHeaderTextFileOpend\", \"handleChangeHeader\", \"handleInputChange\"],\r\n  data: () => ({\r\n    rules: {\r\n      counter: (value) => value.length <= 20 || \"Max 20 characters\",\r\n      required: (value) => !!value || \"Required.\",\r\n      positiveNumbers: (value) => value > 0 || \"Should be greater than 0\",\r\n      alreadyExist: true,\r\n    },\r\n  }),\r\n  methods: {\r\n    headerTextFieldOpen(headerText) {\r\n      this.$emit(\"handleHeaderTextFileOpend\", headerText);\r\n    },\r\n    changeHeader(header) {\r\n      this.$emit(\"handleChangeHeader\", header);\r\n    },\r\n    inputChanged(value, param) {\r\n      this.$emit(\"handleInputChange\", value, param);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialogTableHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialogTableHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditDialogTableHeader.vue?vue&type=template&id=22a97cc2&\"\nimport script from \"./EditDialogTableHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./EditDialogTableHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VEditDialog } from 'vuetify/lib/components/VDataTable';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VEditDialog,VTextField})\n","<template>\r\n  <div ref=\"containerRef\" class=\"container-width\">\r\n    <v-container fluid>\r\n      <v-row class=\"text-center\">\r\n        <v-col cols=\"12\" class=\"overflow-c\">\r\n          <div ref=\"tableRef\">\r\n            <v-data-table\r\n              :headers=\"filteredHeaders\"\r\n              :items=\"deliverables\"\r\n              hide-default-header\r\n              hide-default-footer\r\n              :sort-by.sync=\"sortBy\"\r\n              disable-pagination\r\n              :sort-desc.sync=\"sortDesc\"\r\n              class=\"elevation-1 zoom custom-data-table \"\r\n            >\r\n              <template v-slot:header=\"{ props: { headers } }\">\r\n                <thead class=\"v-data-table-header\">\r\n                  <!-- Toppest Row -->\r\n                  <tr ref=\"headerRef\">\r\n                    <th\r\n                      style=\"border: solid 0.5px; padding: 0px 0px;\"\r\n                      v-for=\"header in headers\"\r\n                      v-bind:key=\"header.value\"\r\n                    >\r\n                      <span></span>\r\n                      <span style=\"height: 100%\" v-if=\"header.value.includes('step')\">\r\n                        <linear-progress color=\"green\" :height=\"thHeight\" :value=\"stepsFulfillment[header.value]\">\r\n                          {{ stepsFulfillment[header.value] ? Math.round(stepsFulfillment[header.value]) : 0 }}%\r\n                        </linear-progress>\r\n                      </span>\r\n                      <span v-else-if=\"header.value === 'fulfillment'\">\r\n                        <linear-progress\r\n                          :value=\"totalFulfillment !== null && !isNaN(totalFulfillment) ? totalFulfillment : 0\"\r\n                          color=\"green\"\r\n                          :height=\"thHeight\"\r\n                          reactive=\"reactive\"\r\n                          striped=\"striped\"\r\n                        >\r\n                          {{\r\n                            totalFulfillment !== null && !isNaN(totalFulfillment) ? totalFulfillment + \"%\" : \"n.rel.\"\r\n                          }}\r\n                        </linear-progress>\r\n                      </span>\r\n                      <div v-else style=\"color: white;\" @click=\"toggleWidth()\">\r\n                        '\r\n                      </div>\r\n                    </th>\r\n                  </tr>\r\n\r\n                  <!-- Second toppest Row -->\r\n                  <tr class=\"secondTopRow\">\r\n                    <!-- & -->\r\n                    <th\r\n                      id=\"tableHeader\"\r\n                      v-for=\"(header, idx) in headers\"\r\n                      :key=\"idx\"\r\n                      role=\"columnheader\"\r\n                      scope=\"col\"\r\n                      :aria-label=\"`${header.text}: Sorted ascending. Activate to sort descending.`\"\r\n                      aria-sort=\"ascending\"\r\n                      class=\"sortable\"\r\n                      :class=\"{\r\n                        active: sortBy === header.value,\r\n                        asc: sortDesc === false,\r\n                      }\"\r\n                    >\r\n                      <!-- <edit-dialog > </edit-dialog> -->\r\n                      <edit-dialog-table-header\r\n                        @handleChangeHeader=\"changeHeader\"\r\n                        @handleInputChange=\"inputChanged\"\r\n                        @handleHeaderTextFileOpend=\"headerTextFieldOpen\"\r\n                        :header=\"header\"\r\n                      ></edit-dialog-table-header>\r\n                      <!-- <span> -->\r\n                      <span id=\"deleteIcon\" v-if=\"header.headerEditable\" @click=\"conformMessage('', idx, 'column')\">\r\n                        <v-icon small>mdi-delete</v-icon>\r\n                      </span>\r\n\r\n                      <!-- non step columns -->\r\n                      <span v-else>\r\n                        <span @click=\"sortColumn(header.value)\">\r\n                          <!-- non step columns title -->\r\n                          <span>{{ header.text }} </span>\r\n                          <span>\r\n                            <!-- The arrow -->\r\n                            <i\r\n                              :style=\"{\r\n                                transform: `rotate(${rotateValues[header.value]}deg)`,\r\n                              }\"\r\n                              @click=\"rotateValues[header.value] += rotateValues[header.value] === 0 ? -180 : 180\"\r\n                              aria-hidden=\"true\"\r\n                              class=\"v-icon notranslate v-data-table-header__icon mdi mdi-arrow-up theme--light\"\r\n                              style=\"font-size: 18px; transition: transform 0.25s linear;\"\r\n                            ></i>\r\n                          </span>\r\n                        </span>\r\n                      </span>\r\n                      <!-- </span> -->\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n              </template>\r\n              <template v-slot:body=\"{ items, headers }\">\r\n                <tbody>\r\n                  <template v-for=\"(item, idx) in items\">\r\n                    <tr ref=\"rowRef\">\r\n                      <td\r\n                        @mouseover=\"item.showEditDialog = true\"\r\n                        @mouseleave=\"mouseLeave(item)\"\r\n                        :title=\"expandedWidth ? getTitle(item, header) : ''\"\r\n                        v-for=\"(header, key) in headers\"\r\n                        :key=\"`inner_${key}`\"\r\n                        :style=\"cellBackgroundStyle(item[header.value])\"\r\n                        :class=\"{ 'expanded-td': expandedWidth }\"\r\n                      >\r\n                        <!-- header editable -->\r\n                        <span\r\n                          v-if=\"header.editable\"\r\n                          :class=\"{\r\n                            'left-justified': header.value === 'description' || header.value.includes('responsible'),\r\n                          }\"\r\n                        >\r\n                          <span v-if=\"!item.showEditDialog && !item.isChild\">\r\n                            {{ item[header.value] }}\r\n                          </span>\r\n\r\n                          <span v-else>\r\n                            <template v-if=\"header.value.includes('step')\">\r\n                              <!-- Render the value without v-edit-dialog for steps cell -->\r\n                              <span v-if=\"item.isChild\">\r\n                                {{\r\n                                  subProjectStepsFullFilment[item.id]\r\n                                    ? parseInt(Math.round(subProjectStepsFullFilment[item.id][header.value]))\r\n                                    : 0\r\n                                }}%\r\n                              </span>\r\n\r\n                              <span v-else @click=\"handleSelectChange(item, header.value)\" style=\"cursor: pointer;\">\r\n                                {{ item[header.value] }}\r\n                              </span>\r\n                            </template>\r\n                            <template v-else>\r\n                              <edit-dialog-table-body\r\n                                @handleChangeCell=\"changeCell\"\r\n                                @handleClose1=\"close1\"\r\n                                @handleInputChanged=\"inputChanged\"\r\n                                @handleOpen=\"open\"\r\n                                :item=\"item\"\r\n                                :header=\"header\"\r\n                              >\r\n                              </edit-dialog-table-body>\r\n                            </template>\r\n                          </span>\r\n                        </span>\r\n\r\n                        <!-- header not editable -->\r\n                        <span v-else>\r\n                          <span v-if=\"header.value === 'fulfillment'\">\r\n                            <linear-progress\r\n                              :value=\"typeof item[header.value] === 'number' ? item[header.value] : 0\"\r\n                              color=\"green\"\r\n                              :height=\"tdHeight\"\r\n                              reactive=\"reactive\"\r\n                              striped=\"striped\"\r\n                            >\r\n                              {{\r\n                                typeof item[header.value] === \"number\" ? Math.round(item[header.value]) + \"%\" : \"n.rel.\"\r\n                              }}\r\n                            </linear-progress>\r\n                          </span>\r\n\r\n                          <!-- The ID  -->\r\n                          <div\r\n                            v-else\r\n                            @click=\"handleClick($event, idx, item.id)\"\r\n                            :class=\"{\r\n                              'deliverable--number': header.value === 'id',\r\n                              'selected-row': isSelected(item.id),\r\n                            }\"\r\n                          >\r\n                            <!-- <span v-if=\"isRangeSelected\" :class=\"isSelected(item.id)\" class=\"isChecked\"> </span> -->\r\n                            {{ item[header.value] }}\r\n                          </div>\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <!-- Check if the current row has children -->\r\n                    <template ref=\"rowRef\" v-if=\"item.children && item.children.length > 0\">\r\n                      <!-- Nested loop to render children rows -->\r\n                      <tr v-for=\"(child, childIdx) in item.children\" :key=\"`child_${idx}_${childIdx}`\">\r\n                        <td\r\n                          @mouseover=\"child.showEditDialog = true\"\r\n                          @mouseleave=\"mouseLeave(child)\"\r\n                          :title=\"expandedWidth ? getTitle(child, header) : ''\"\r\n                          v-for=\"(header, index) in headers\"\r\n                          :key=\"`inner_child_${index}`\"\r\n                          :style=\"cellBackgroundStyle(child[header.value])\"\r\n                          :class=\"{ 'expanded-td': expandedWidth }\"\r\n                        >\r\n                          <!-- header editable -->\r\n                          <span\r\n                            v-if=\"header.editable\"\r\n                            :class=\"{\r\n                              'left-justified': header.value === 'description' || header.value.includes('responsible'),\r\n                            }\"\r\n                          >\r\n                            <span v-if=\"!child.showEditDialog\">{{ child[header.value] }}</span>\r\n                            <span v-else>\r\n                              <template v-if=\"header.value.includes('step')\">\r\n                                <!-- Render the value without v-edit-dialog for steps cell -->\r\n                                <span @click=\"handleSelectChange(child, header.value)\" style=\"cursor: pointer;\">\r\n                                  {{ child[header.value] }}\r\n                                </span>\r\n                              </template>\r\n                              <template v-else>\r\n                                <edit-dialog-table-body\r\n                                  @handleChangeCell=\"changeCell\"\r\n                                  @handleClose1=\"close1\"\r\n                                  @handleInputChanged=\"inputChanged\"\r\n                                  @handleOpen=\"open\"\r\n                                  :item=\"child\"\r\n                                  :header=\"header\"\r\n                                >\r\n                                </edit-dialog-table-body>\r\n                              </template>\r\n                            </span>\r\n                          </span>\r\n\r\n                          <!-- header not editable -->\r\n                          <span v-else>\r\n                            <span v-if=\"header.value === 'fulfillment'\">\r\n                              <linear-progress\r\n                                :value=\"typeof child[header.value] === 'number' ? child[header.value] : 0\"\r\n                                color=\"green\"\r\n                                :height=\"tdHeight\"\r\n                                reactive=\"reactive\"\r\n                                striped=\"striped\"\r\n                              >\r\n                                {{\r\n                                  typeof child[header.value] === \"number\"\r\n                                    ? Math.round(child[header.value]) + \"%\"\r\n                                    : \"n.rel.\"\r\n                                }}\r\n                              </linear-progress>\r\n                            </span>\r\n\r\n                            <!-- The ID  -->\r\n                            <div\r\n                              v-else\r\n                              @click=\"handleClick($event, childIdx, child.id, idx)\"\r\n                              :class=\"{\r\n                                'deliverable--number': header.value == 'id',\r\n                                'selected-row': isSelected(child.id),\r\n                              }\"\r\n                              style=\"cursor: pointer;\"\r\n                            >\r\n                              <!-- <span v-if=\"isRangeSelected\" :class=\"isSelected(child.id)\" class=\"isChecked\"> </span> -->\r\n                              {{ child[header.value] }}\r\n                            </div>\r\n                          </span>\r\n                          <!-- </span> -->\r\n                        </td>\r\n                      </tr>\r\n                    </template>\r\n                  </template>\r\n\r\n                  <div\r\n                    class=\"toolbox\"\r\n                    v-if=\"toolboxVisible\"\r\n                    :style=\"{ top: selectedRowTop + 'px' }\"\r\n                    v-click-outside=\"closetoolbox\"\r\n                  >\r\n                    <v-icon small @click=\"deleteRows\">mdi-delete</v-icon>\r\n                    <v-icon small @click=\"createNewRowFromSelected\">mdi-arrow-right</v-icon>\r\n                    <v-icon small @click.stop=\"ungroupSelectedChildren\">mdi-arrow-left</v-icon>\r\n                  </div>\r\n                </tbody>\r\n              </template>\r\n              <template v-slot:top>\r\n                <toolbar @handleShowWeight=\"toggleWeight\" @handleUndelete=\"undoDelete\" :showWeight=\"showWeight\" />\r\n              </template>\r\n            </v-data-table>\r\n          </div>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n    <div v-if=\"showConformMessage\">\r\n      <ConfirmMessage\r\n        :message=\"message\"\r\n        :pressedType=\"pressedType\"\r\n        @deleteRow=\"deleteRow\"\r\n        @deleteStep=\"deleteColumn('step')\"\r\n        @deleteResponsible=\"deleteColumn('responsible')\"\r\n        @dontDelete=\"toggleShowConformMessage\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import ExcelOperator from \"../utils/excel-operator\";\r\nimport FulfilmentsUtil from \"../utils/fulfilments-util\";\r\n// import AddColumn from \"@/components/AddColumn\";\r\nimport ConfirmMessage from \"@/components/ConfirmMessage\";\r\nimport { mapState } from \"vuex\";\r\nimport LinearProgress from \"./Table/LinearProgress.vue\";\r\n// import Editd from \"./Table/EditDialog.vue\";\r\nimport EditDialogTableBody from \"./Table/EditDialogTableBody.vue\";\r\nimport Toolbar from \"./Table/Toolbar.vue\";\r\nimport EditDialogTableHeader from \"./Table/EditDialogTableHeader.vue\";\r\n\r\nconst util = new FulfilmentsUtil();\r\n\r\nexport default {\r\n  name: \"HelloWorld\",\r\n  components: {\r\n    ConfirmMessage,\r\n    LinearProgress,\r\n    EditDialogTableHeader,\r\n    EditDialogTableBody,\r\n    Toolbar,\r\n  },\r\n  data: () => ({\r\n    index: -1,\r\n    selectedRowTop: 0,\r\n    selectedRows: [], // Track selected rows by index\r\n    selectedRow: null,\r\n    isRangeSelected: false,\r\n    deletedRows: [],\r\n    deletedRowsStack: [],\r\n    isShiftPressed: false,\r\n    toolboxVisible: false,\r\n    expandedWidth: true,\r\n    isDialogOpen: false,\r\n    showEditDialog: true,\r\n    selectItems: [\"open\", \"wip\", \"closed\", \"n.rel.\"],\r\n    rotateValues: { id: 0, description: 0, weight: 0, fulfillment: 0 },\r\n    sortBy: \"id\",\r\n    sortDesc: false,\r\n    file: null,\r\n    inputValue: \"\",\r\n    showWeight: \"Show Weight\",\r\n    max20chars: (v) => v.length <= 20 || \"Maximum 20 character allowed\",\r\n    rules: {\r\n      counter: (value) => value.length <= 20 || \"Max 20 characters\",\r\n      required: (value) => !!value || \"Required.\",\r\n      positiveNumbers: (value) => value > 0 || \"Should be greater than 0\",\r\n      alreadyExist: true,\r\n    },\r\n\r\n    adjustText: \"Fit On Page\",\r\n    heightScale: 0,\r\n    widthScale: 0,\r\n    horizontalAdjusted: false,\r\n\r\n    thHeight: 16,\r\n    thWidth: 0,\r\n    tdHeight: 16,\r\n    headerEditValue: \"\",\r\n\r\n    defaultItem: {\r\n      id: \"\",\r\n      description: \"\",\r\n      oneWeekBefore: \"\",\r\n      untilDayBefore: \"\",\r\n      fulfillment: 0,\r\n    },\r\n    stepOffset: 3,\r\n    // Added by MMG\r\n    showDeleteIcon: false,\r\n    columnDeleteIcon: false,\r\n    message: \"The Message\",\r\n    pressedId: \"\",\r\n    pressedType: \"\",\r\n    showConformMessage: false,\r\n    activeChildIndex: null,\r\n  }),\r\n  computed: {\r\n    stepsFulfillment() {\r\n      return this.$store.getters.stepsFulfillment;\r\n    },\r\n    subProjectStepsFullFilment() {\r\n      return this.$store.getters.subProjectStepsFullFilment;\r\n    },\r\n    ...mapState([\"statusTable\"]),\r\n    headers() {\r\n      return this.statusTable.headers;\r\n    },\r\n    filteredHeaders() {\r\n      // Add a checkbox header\r\n      return this.statusTable.headers.filter((item) => {\r\n        if (this.showWeight === \"Show Weight\") {\r\n          return item.value !== \"weight\";\r\n        } else {\r\n          return true;\r\n        }\r\n      });\r\n    },\r\n    deliverables() {\r\n      return this.statusTable.deliverables;\r\n    },\r\n    responsibles() {\r\n      return this.statusTable.responsibles;\r\n    },\r\n    steps() {\r\n      return this.statusTable.steps;\r\n    },\r\n    totalFulfillment() {\r\n      return Math.round(this.$store.getters.totalFulfillment);\r\n    },\r\n  },\r\n  mounted: function() {\r\n    console.log(\"deliverales\", this.deliverables);\r\n    this.$nextTick(function() {\r\n      // Code that will run only after the\r\n      // entire view has been rendered\r\n      if (this.$refs.headerRef) this.thHeight = this.$refs.headerRef.clientHeight;\r\n      this.thWidth = this.$refs.headerRef.clientWidth;\r\n      if (this.$refs.rowRef) this.tdHeight = this.$refs.rowRef[0].clientHeight;\r\n\r\n      const tableToolbarHeight = document.getElementsByClassName(\"v-toolbar__content\")[0].clientHeight;\r\n      const containerHeight = document.getElementsByClassName(\"overflow-c\")[0].clientHeight;\r\n      const tableWrapper = document.getElementsByClassName(\"v-data-table__wrapper\")[0];\r\n      tableWrapper.style.maxHeight = containerHeight - tableToolbarHeight + \"px\";\r\n    });\r\n  },\r\n  watch: {\r\n    dialog(val) {\r\n      val || this.close();\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    // Method to ungroup a child project\r\n    ungroupSelectedChildren() {\r\n      // Create an array to store the indices of children to be ungrouped\r\n      const childrenToUngroup = [];\r\n\r\n      // Iterate over the selected rows\r\n      this.selectedRows.forEach((rowId) => {\r\n        const parentIdx = this.findParentIndex(rowId);\r\n        if (parentIdx !== -1) {\r\n          const childIdx = this.findChildIndex(parentIdx, rowId);\r\n          if (childIdx !== -1) {\r\n            childrenToUngroup.push({ parentIdx, childIdx });\r\n          }\r\n        }\r\n      });\r\n\r\n      // Sort children to ungroup in descending order to avoid index issues\r\n      childrenToUngroup.sort((a, b) => b.parentIdx - a.parentIdx || b.childIdx - a.childIdx);\r\n\r\n      // Ungroup each child\r\n      childrenToUngroup.forEach(({ parentIdx, childIdx }) => {\r\n        this.ungroupChild(parentIdx, childIdx);\r\n      });\r\n\r\n      // Clear selection after ungrouping\r\n      this.selectedRows = [];\r\n\r\n      // Update the Vuex store if necessary\r\n      this.$store.dispatch(\"setDeliverables\", this.deliverables);\r\n\r\n      // Optionally, recalculate fulfillments\r\n      util.recalculateAllFulfillments(this.deliverables, this.steps);\r\n    },\r\n\r\n    // Method to ungroup a single child project\r\n    ungroupChild(parentIdx, childIdx) {\r\n      const parent = this.deliverables[parentIdx];\r\n      const child = parent.children[childIdx];\r\n\r\n      // Remove the child from the parent's children array\r\n      parent.children.splice(childIdx, 1);\r\n\r\n      // Insert the child right after the parent in the root deliverables array\r\n      this.deliverables.splice(parentIdx + 1, 0, child);\r\n\r\n      // If the parent has no more children, remove the parent as well\r\n      if (parent.children.length === 0) {\r\n        this.deliverables.splice(parentIdx, 1);\r\n      }\r\n\r\n      // Recalculate numbering\r\n      this.recalculateNumbering();\r\n    },\r\n\r\n    // Method to find parent index\r\n    findParentIndex(childId) {\r\n      for (let i = 0; i < this.deliverables.length; i++) {\r\n        if (this.deliverables[i].children) {\r\n          for (let j = 0; j < this.deliverables[i].children.length; j++) {\r\n            if (this.deliverables[i].children[j].id === childId) {\r\n              return i;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return -1;\r\n    },\r\n\r\n    // Method to find child index\r\n    findChildIndex(parentIdx, childId) {\r\n      const parent = this.deliverables[parentIdx];\r\n      for (let i = 0; i < parent.children.length; i++) {\r\n        if (parent.children[i].id === childId) {\r\n          return i;\r\n        }\r\n      }\r\n      return -1;\r\n    },\r\n\r\n    // Method to recalculate numbering\r\n    recalculateNumbering() {\r\n      this.deliverables.forEach((item, index) => {\r\n        item.id = index + 1;\r\n        if (item.children && item.children.length > 0) {\r\n          item.children.forEach((child, childIndex) => {\r\n            child.id = `${item.id}.${childIndex + 1}`;\r\n          });\r\n        }\r\n      });\r\n    },\r\n    closetoolbox(event) {\r\n      if (!event.target.classList.contains(\"deliverable--number\")) {\r\n        this.toolboxVisible = false;\r\n        this.index = -1;\r\n        this.selectedRows = [];\r\n      }\r\n    },\r\n\r\n    include() {\r\n      return [document.querySelector(\".deliverable--number\")];\r\n    },\r\n\r\n    renumberDeliverables(deliverables) {\r\n      return deliverables.map((row, index) => {\r\n        if (!row.isGrouped) {\r\n          return { ...row, id: index + 1 };\r\n        }\r\n\r\n        // Renumber the row\r\n        const renumberedRow = { ...row, id: index + 1 };\r\n\r\n        // Renumber the children if they exist\r\n        if (renumberedRow.children && renumberedRow.children.length > 0) {\r\n          renumberedRow.children = renumberedRow.children.map((child, childIndex) => {\r\n            return { ...child, id: `${renumberedRow.id}.${childIndex + 1}` };\r\n          });\r\n        }\r\n        return renumberedRow;\r\n      });\r\n    },\r\n\r\n    createNewRowFromSelected() {\r\n      if (this.selectedRows.length > 0) {\r\n        // Create a new row object with default values\r\n        const newRow = {\r\n          description: \"Subproject\",\r\n          fulfillment: 0,\r\n          id: Math.min(...this.selectedRows), // Generate a new ID based on the highest selected ID\r\n          responsible: \"\",\r\n          showEditDialog: false,\r\n          weight: 0,\r\n          isChild: true,\r\n          children: [],\r\n          isGrouped: true,\r\n        };\r\n\r\n        // Calculate the total weight for the selected rows\r\n        let totalWeight = 0;\r\n\r\n        // Update the selected rows and move them to the children property of the new row\r\n        newRow.children = this.selectedRows.map((id, index) => {\r\n          const selectedRow = this.deliverables.find((deliverable) => deliverable.id === id);\r\n          totalWeight += parseInt(selectedRow.weight);\r\n          return {\r\n            ...selectedRow,\r\n            id: `${newRow.id}.${index + 1}`,\r\n            isGrouped: true,\r\n            parentId: newRow.id,\r\n          };\r\n        });\r\n\r\n        // Set the calculated values to the new row\r\n        newRow.weight = totalWeight;\r\n\r\n        // Remove the selected rows from the deliverables array\r\n        let updatedDeliverables = this.deliverables.filter(\r\n          (deliverable) => !this.selectedRows.includes(deliverable.id)\r\n        );\r\n\r\n        // Calculate percentages and values for each step\r\n        this.calculateStepsFulfillmentForNewRow(newRow);\r\n\r\n        // Find the index where the new row should be inserted based on the 'id'\r\n        const insertIndex = updatedDeliverables.findIndex((row) => newRow.id - 1 < row.id);\r\n\r\n        // If insertIndex is -1, it means the new row should be added at the end\r\n        const finalIndex = insertIndex !== -1 ? insertIndex : updatedDeliverables.length;\r\n\r\n        // Insert the new row at the calculated position\r\n        updatedDeliverables.splice(finalIndex, 0, newRow);\r\n\r\n        // Clear selection after creating the new row\r\n        this.selectedRows = [];\r\n\r\n        // Hide the toolbox\r\n        this.toolboxVisible = false;\r\n\r\n        // renumber deliverables\r\n        updatedDeliverables = this.renumberDeliverables(updatedDeliverables);\r\n\r\n        // Update the store\r\n        this.$store.dispatch(\"setDeliverables\", updatedDeliverables);\r\n      }\r\n    },\r\n\r\n    calculateStepsFulfillmentForNewRow(row) {\r\n      // Calculate percentages based on total weight and fulfillment\r\n      if (row.weight > 0) {\r\n        let sumAll = 0;\r\n        // let totalWeights = 0;\r\n\r\n        this.steps.forEach((step) => {\r\n          let totalWeights = 0;\r\n          let wipCount = 0;\r\n          let closedCount = 0;\r\n\r\n          row.children.forEach((item, idx) => {\r\n            // const selectedRow = this.deliverables[idx];\r\n            if (item[step.identity] !== \"n.rel.\") {\r\n              totalWeights += +item.weight;\r\n            }\r\n            closedCount += item[step.identity] === \"closed\" ? 1 * item.weight : 0;\r\n            wipCount += item[step.identity] === \"wip\" ? 0.5 * item.weight : 0;\r\n          });\r\n          // const stepValue = row[step.identity];\r\n          row[step.identity] = ((closedCount + wipCount) / totalWeights) * 100;\r\n          // console.log(row[step.identity] = ((closedCount + wipCount) / totalWeights) * 100)\r\n          // console.log('weight ',totalWeights,' closed count',closedCount, ' wip count',wipCount)\r\n        });\r\n\r\n        // calculate the totalfulfillment for the selected rows.\r\n        if (this.steps.length > 0) {\r\n          let totalWeights = 0;\r\n          row.children.forEach((item, idx) => {\r\n            // const selectedRow = this.deliverables[idx];\r\n            if (typeof item.fulfillment === \"number\") {\r\n              totalWeights += +item.weight;\r\n              sumAll += item.fulfillment * item.weight;\r\n            }\r\n          });\r\n          row.fulfillment = sumAll / totalWeights;\r\n        }\r\n      }\r\n    },\r\n\r\n    deleteRows() {\r\n      if (this.selectedRows.length > 0) {\r\n        // Store deleted rows temporarily\r\n        const deletedRows = [];\r\n\r\n        // Iterate over selected rows and delete them\r\n        this.selectedRows.forEach((id) => {\r\n          const parentIdx = this.deliverables.findIndex((deliverable) => deliverable.id === id);\r\n\r\n          if (parentIdx !== -1) {\r\n            const parent = this.deliverables[parentIdx];\r\n            // Check if the item is a parent with children\r\n            if (parent.children && parent.children.length > 0) {\r\n              // Delete the parent and all its children\r\n              deletedRows.push(...parent.children);\r\n              deletedRows.push(parent);\r\n              this.deliverables.splice(parentIdx, 1);\r\n            } else {\r\n              // Delete the parent without children\r\n              deletedRows.push(parent);\r\n              this.deliverables.splice(parentIdx, 1);\r\n            }\r\n          } else {\r\n            // Handle deletion of child rows if necessary\r\n            this.deliverables.forEach((parent, parentIndex) => {\r\n              const childIdx = parent.children ? parent.children.findIndex((child) => child.id === id) : -1;\r\n              if (childIdx !== -1) {\r\n                const deletedChild = parent.children.splice(childIdx, 1)[0];\r\n                deletedRows.push(deletedChild);\r\n                // If no children left, remove the parent\r\n                if (parent.children.length === 0) {\r\n                  this.deliverables.splice(parentIndex, 1);\r\n                  deletedRows.push(parent);\r\n                }\r\n              }\r\n            });\r\n          }\r\n        });\r\n\r\n        // Clear selection after deletion\r\n        this.selectedRows = [];\r\n\r\n        // Store deleted rows for potential undo\r\n        this.deletedRowsStack.push(deletedRows);\r\n\r\n        // Recalculate fulfillments\r\n        util.recalculateAllFulfillments(this.deliverables, this.steps);\r\n\r\n        // Update the store\r\n        this.$store.dispatch(\"setDeliverables\", this.deliverables);\r\n\r\n        // Update the toolbox visibility\r\n        this.toolboxVisible = false;\r\n        this.index = null;\r\n        // }\r\n      }\r\n    },\r\n\r\n    // Function to find the next available ID\r\n    getNextAvailableId(deliverables) {\r\n      let id = 1;\r\n      let tasksLength = deliverables.length;\r\n      if (tasksLength !== 0) {\r\n        id = this.deliverables[tasksLength - 1].id + 1;\r\n      }\r\n      return id;\r\n    },\r\n\r\n    undoDelete() {\r\n      if (this.deletedRowsStack.length > 0) {\r\n        // Pop the last set of deleted rows from the stack\r\n        const lastDeletedRows = this.deletedRowsStack.pop();\r\n\r\n        // Restore deleted rows\r\n        lastDeletedRows.forEach((row) => {\r\n          if (row.parentId) {\r\n            // If the row is a child, find the parent and restore the child\r\n            const parent = this.deliverables.find((deliverable) => deliverable.id === row.parentId);\r\n            if (parent) {\r\n              parent.children = parent.children || [];\r\n              parent.children.push(row);\r\n              parent.children.sort((a, b) => a.id - b.id);\r\n            }\r\n          } else {\r\n            // If the row is a parent, check if it already exists in the deliverables array\r\n            const existingRow = this.deliverables.find((deliverable) => deliverable.id === row.id);\r\n            if (existingRow) {\r\n              // Assign a new ID if the parent row already exists\r\n              row.id = this.getNextAvailableId(this.deliverables);\r\n            }\r\n            this.deliverables.push(row);\r\n          }\r\n        });\r\n\r\n        // Recalculate fulfillments\r\n        const util = new FulfilmentsUtil();\r\n        util.recalculateAllFulfillments(this.deliverables, this.steps);\r\n\r\n        // Update the store (assuming you're using Vuex)\r\n        this.$store.dispatch(\"setDeliverables\", this.deliverables);\r\n      }\r\n    },\r\n\r\n    handleClick(event, idx, id, parentIdx = null) {\r\n      this.positionToolBox(idx, parentIdx);\r\n      if (event.shiftKey) {\r\n        this.handleRangeSelection(this.index, idx, parentIdx);\r\n        this.index = null;\r\n        this.isRangeSelected = true;\r\n        return;\r\n      } else if (event.ctrlKey) {\r\n        this.selectedRows.push(id);\r\n        this.isRangeSelected = true;\r\n        this.index = null;\r\n      } else {\r\n        this.selectedRows = [id];\r\n        this.index = idx;\r\n        this.isRangeSelected = false;\r\n      }\r\n    },\r\n\r\n    isSelected(id) {\r\n      // const item = this.selectedRows.includes(id);\r\n      // return item ? \"mdi mdi-check\" : \"\";\r\n      return this.selectedRows.includes(id);\r\n    },\r\n\r\n    handleRangeSelection(startIndex, endIndex, parentIndex = null) {\r\n      if (startIndex > endIndex) {\r\n        [startIndex, endIndex] = [endIndex, startIndex];\r\n      }\r\n      // Select the range between the last selected item and the current item\r\n      for (let i = startIndex; i <= endIndex; i++) {\r\n        const itemId = parentIndex ? this.deliverables[parentIndex].children[i]?.id : this.deliverables[i]?.id;\r\n        if (!this.selectedRows.includes(itemId)) {\r\n          this.selectedRows.push(itemId);\r\n        }\r\n      }\r\n    },\r\n\r\n    positionToolBox(parentIdx, childIdx) {\r\n      const rowHeight = 20; // Adjust this based on your table row height\r\n      this.selectedRowTop = (childIdx !== null ? childIdx + parentIdx : parentIdx) * rowHeight;\r\n      this.toolboxVisible = true;\r\n    },\r\n\r\n    handleSelectChange(item, headerValue) {\r\n      // Assuming steps are defined as an array\r\n      const steps = [\"open\", \"wip\", \"closed\", \"n.rel.\"];\r\n\r\n      // Get the current step index\r\n      const currentStepIndex = steps.indexOf(item[headerValue]);\r\n\r\n      // Calculate the next step index (cycling back to 0 if at the end)\r\n      const nextStepIndex = (currentStepIndex + 1) % steps.length;\r\n\r\n      // Set the new step value\r\n      this.$set(item, headerValue, steps[nextStepIndex]);\r\n\r\n      if (!item.isChild) {\r\n        // Recalculate the row\r\n        this.calculateRowFulfillment(item);\r\n      }\r\n\r\n      if (item.parentId !== undefined) {\r\n        // The item is a child, recalculate the parent row\r\n        let parentRow = this.deliverables.find((row) => row.id === item.parentId);\r\n        this.calculateStepsFulfillmentForNewRow(parentRow);\r\n      }\r\n\r\n      // Set the deliverables again.\r\n      this.$store.dispatch(\"setDeliverables\", this.deliverables);\r\n    },\r\n\r\n    // calculateEachSubprojectTotalFulfillment(row) {\r\n    //   if (this.steps.length > 0) {\r\n    //     let totalWeights = 0;\r\n    //     let sumAll = 0;\r\n\r\n    //     row.children.forEach((item, idx) => {\r\n    //       // const selectedRow = this.deliverables[idx];\r\n    //       if (typeof item.fulfillment === \"number\") {\r\n    //         totalWeights += +item.weight;\r\n    //         sumAll += item.fulfillment * item.weight;\r\n    //       }\r\n    //     });\r\n    //     row.fulfillment = sumAll / totalWeights;\r\n    //   }\r\n    // },\r\n\r\n    getProgressBarStyles(header, stepsFulfillment) {\r\n      return (stepsFulfillment[header.value] ? Math.round(stepsFulfillment[header.value]) : 0) + \"%\";\r\n    },\r\n\r\n    toggleWidth() {\r\n      this.expandedWidth = !this.expandedWidth;\r\n    },\r\n    getTitle(item, header) {\r\n      if (header.value.includes(\"step\") || !isNaN(item[header.value])) {\r\n        return \"\";\r\n      } else {\r\n        return item[header.value];\r\n      }\r\n    },\r\n    toggleWeight() {\r\n      if (this.showWeight === \"Show Weight\") {\r\n        this.showWeight = \"Hide Weight\";\r\n      } else {\r\n        this.showWeight = \"Show Weight\";\r\n      }\r\n    },\r\n    mouseLeave(item) {\r\n      if (!this.isDialogOpen) {\r\n        item.showEditDialog = false;\r\n      }\r\n    },\r\n    headerTextFieldOpen(headerText) {\r\n      this.inputValue = headerText;\r\n      this.rules.alreadyExist = (value) => {\r\n        return (\r\n          !this.headers.find((header) => {\r\n            return (\r\n              value.toLowerCase() === header.text.toLowerCase() && value.toLowerCase() !== headerText.toLowerCase()\r\n            );\r\n          }) || \"Column name already exist\"\r\n        );\r\n      };\r\n    },\r\n    //TODO refactor to only have one copy of this method in one place (AddColumn component)\r\n    calculateRowFulfillment(row) {\r\n      let stepsLength = this.steps.length;\r\n      let closedCount = 0;\r\n      let wipCount = 0;\r\n\r\n      // if (stepsLength > 0) {\r\n      this.steps.forEach((step) => {\r\n        closedCount += row[step.identity] === \"closed\" ? 1 : 0;\r\n        wipCount += row[step.identity] === \"wip\" ? 0.5 : 0;\r\n        stepsLength -= row[step.identity] === \"n.rel.\" ? 1 : 0;\r\n      });\r\n      // }\r\n      if (stepsLength > 0) {\r\n        let fulfillment = ((closedCount + wipCount) / stepsLength) * 100;\r\n        row.fulfillment = fulfillment;\r\n      } else {\r\n        row.fulfillment = \"n.rel.\";\r\n      }\r\n    },\r\n\r\n    cellBackgroundStyle(status) {\r\n      return {\r\n        backgroundColor: this.getColor(status),\r\n      };\r\n    },\r\n\r\n    getColor(status) {\r\n      if (status === \"open\") return \"#FF0000\";\r\n      else if (status === \"wip\") return \"orange\";\r\n      else if (status === \"n.rel.\") return \"#778899\";\r\n      else if (status === \"closed\") {\r\n        return \"#7bea7b\";\r\n      } else return null;\r\n    },\r\n\r\n    close1(item) {\r\n      setTimeout(() => {\r\n        this.isDialogOpen = false;\r\n        item.showEditDialog = false;\r\n      }, 500);\r\n    },\r\n    close() {},\r\n    cancel() {},\r\n    open(openedCell) {\r\n      this.isDialogOpen = true;\r\n      this.inputValue = openedCell;\r\n    },\r\n    changeCell(item, headerValue) {\r\n      item[headerValue] = this.inputValue;\r\n      // console.log('item header val', item)\r\n      item.showEditDialog = false;\r\n      this.isDialogOpen = false;\r\n      this.calculateRowFulfillment(item);\r\n      this.$store.dispatch(\"setDeliverables\", this.deliverables);\r\n    },\r\n\r\n    changeHeader(header) {\r\n      if (this.rules.required(this.inputValue.length) === true && this.rules.alreadyExist(this.inputValue) === true) {\r\n        header.text = this.inputValue;\r\n\r\n        this.$store.dispatch(\"setHeaders\", this.headers);\r\n      }\r\n    },\r\n    inputChanged(value, param) {\r\n      // console.log(\"input changed value\", value, \"param\", param);\r\n\r\n      if (param === \"weight\") {\r\n        if (value !== \"\" && value > 0) {\r\n          this.inputValue = value;\r\n        }\r\n      } else {\r\n        this.inputValue = value;\r\n      }\r\n    },\r\n    sortColumn(headerValue) {\r\n      if (this.sortBy === headerValue) {\r\n        this.sortDesc = true;\r\n\r\n        if (this.rotateValues[headerValue] === 0) {\r\n          this.sortDesc = false;\r\n        }\r\n      } else {\r\n        this.sortDesc = false;\r\n        this.sortBy = headerValue;\r\n        this.rotateValues.id = 0;\r\n        this.rotateValues.description = 0;\r\n        this.rotateValues.weight = 0;\r\n        this.rotateValues.fulfillment = 0;\r\n      }\r\n    },\r\n    // Added by MMG\r\n    showDelete(idx) {\r\n      this.deliverables[idx].showDeleteIcon = true;\r\n    },\r\n    unShowDelete(idx) {\r\n      this.deliverables[idx].showDeleteIcon = false;\r\n    },\r\n    showColumnDelete(idx) {\r\n      ++idx;\r\n      this.headers[idx].columnDeleteIcon = true;\r\n    },\r\n    unShowColumnDelete(idx) {\r\n      ++idx;\r\n      this.headers[idx].columnDeleteIcon = false;\r\n    },\r\n    conformMessage(message, id, type) {\r\n      if (type === \"column\") {\r\n        if (this.showWeight === \"Show Weight\") {\r\n          ++id;\r\n        }\r\n        if (id > 2 && id < this.responsibles.length + 3) {\r\n          this.pressedId = id;\r\n          this.pressedType = \"responsible\";\r\n        } else {\r\n          this.pressedId = id;\r\n          this.pressedType = \"step\";\r\n        }\r\n        this.message = `Do you want to delete ${this.headers[id].text} column?`;\r\n      } else {\r\n        this.pressedId = id;\r\n        this.pressedType = \"Row\";\r\n        this.message = message;\r\n      }\r\n\r\n      this.toggleShowConformMessage();\r\n    },\r\n    deleteRow() {\r\n      let id = this.pressedId;\r\n      this.deliverables.splice(id, 1);\r\n      for (id; id < this.deliverables.length; id++) {\r\n        this.deliverables[id].id = this.deliverables[id].id - 1;\r\n      }\r\n      // &\r\n      this.$store.dispatch(\"setDeliverables\", this.deliverables);\r\n      this.toggleShowConformMessage();\r\n    },\r\n    deleteColumn(headerValue) {\r\n      let id = this.pressedId;\r\n      if (headerValue.includes(\"step\")) {\r\n        let stepNumber = id - (this.responsibles.length + 3);\r\n        let lengthOfStep = this.steps.length;\r\n        this.steps.splice(stepNumber, 1);\r\n        this.headers.splice(id, 1);\r\n\r\n        for (let a = 0; a < this.steps.length; a++) {\r\n          this.steps[a].identity = `step${a + 1}`;\r\n          this.steps[a].text = `step${a + 1}`;\r\n        }\r\n        let counter1 = 1;\r\n        for (let b = 3 + this.responsibles.length; b < this.headers.length - 1; b++) {\r\n          if (this.headers[b].text.includes(\"Step\")) {\r\n            this.headers[b].text = `Step${counter1}`;\r\n          }\r\n          this.headers[b].value = `step${counter1}`;\r\n          counter1++;\r\n        }\r\n\r\n        for (let c = 0; c < this.deliverables.length; c++) {\r\n          for (let d = stepNumber; d < this.steps.length; d++) {\r\n            this.deliverables[c][`step${d + 1}`] = this.deliverables[c][`step${d + 2}`];\r\n          }\r\n          this.calculateRowFulfillment(this.deliverables[c]);\r\n\r\n          // Calculate fulfillment for children\r\n          if (this.deliverables[c].isGrouped) {\r\n            this.deliverables[c].children.forEach((child) => {\r\n              this.calculateRowFulfillment(child);\r\n            });\r\n          }\r\n\r\n          delete this.deliverables[c][`step${lengthOfStep}`];\r\n        }\r\n\r\n        this.$store.dispatch(\"setHeaders\", this.headers);\r\n        this.$store.dispatch(\"setDeliverables\", this.deliverables);\r\n        this.$store.dispatch(\"setNextColumnName\", this.$store.getters.getNextColumnName(\"Status\"));\r\n        this.toggleShowConformMessage();\r\n        util.recalculateAllFulfillments(this.deliverables, this.steps);\r\n      } else if (headerValue.includes(\"responsible\")) {\r\n        for (let y = 0; y < this.deliverables.length; y++) {\r\n          let x = id;\r\n          for (x; x < this.responsibles.length + 3; x++) {\r\n            if (this.deliverables[y][`responsible${x - 1}`]) {\r\n              this.deliverables[y][`responsible${x - 2}`] = this.deliverables[y][`responsible${x - 1}`];\r\n            } else if (!this.deliverables[y][`responsible${x - 1}`]) {\r\n              this.deliverables[y][`responsible${x - 2}`] = \"\";\r\n            }\r\n          }\r\n        }\r\n\r\n        for (let z = 0; z < this.deliverables.length; z++) {\r\n          delete this.deliverables[z][`responsible${this.responsibles.length}`];\r\n        }\r\n        this.headers.splice(id, 1);\r\n        this.responsibles.splice(id - 3, 1);\r\n\r\n        for (let e = 0; e < this.responsibles.length; e++) {\r\n          this.responsibles[e].identity = `responsible${e + 1}`;\r\n          this.responsibles[e].text = `Responsible${e + 1}`;\r\n        }\r\n        let counter2 = 1;\r\n        for (let f = 3; f < this.responsibles.length + 3; f++) {\r\n          if (this.headers[f].text.includes(\"Responsible\")) {\r\n            this.headers[f].text = `Responsible${counter2}`;\r\n          }\r\n          this.headers[f].value = `responsible${counter2}`;\r\n          counter2++;\r\n        }\r\n\r\n        this.$store.dispatch(\"setHeaders\", this.headers);\r\n        this.$store.dispatch(\"setResponsibles\", this.responsibles);\r\n        this.$store.dispatch(\"setDeliverables\", this.deliverables);\r\n        this.toggleShowConformMessage();\r\n      }\r\n    },\r\n    toggleShowConformMessage() {\r\n      this.showConformMessage = !this.showConformMessage;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StatusTable.vue?vue&type=template&id=633e6422&\"\nimport script from \"./StatusTable.vue?vue&type=script&lang=js&\"\nexport * from \"./StatusTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VDataTable,VIcon,VRow})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport ClickOutside from 'vuetify/lib/directives/click-outside'\ninstallDirectives(component, {ClickOutside})\n","<template>\r\n  <v-app>\r\n    <v-main>\r\n      <StatusTable />\r\n    </v-main>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport StatusTable from \"./components/StatusTable\";\r\n\r\n\r\nexport default {\r\n  name: \"App\",\r\n  created() {\r\n    document.title = \"Earned Value\";\r\n  },\r\n\r\n  components: {\r\n    StatusTable\r\n  },\r\n\r\n  data: () => ({\r\n    drawer: false\r\n    //\r\n  })\r\n};\r\n</script>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=03518464&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VMain})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('StatusTable')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"home\">\r\n    <StatusTable />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport StatusTable from \"@/components/StatusTable.vue\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    StatusTable\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=ce6cee08&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\nimport Home from \"../views/Home.vue\";\r\n\r\nVue.use(VueRouter);\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/\",\r\n    name: \"Home\",\r\n    component: Home\r\n  }\r\n];\r\n\r\nconst router = new VueRouter({\r\n  mode: \"history\",\r\n  base: process.env.BASE_URL,\r\n  routes\r\n});\r\n\r\nexport default router;\r\n","const state = {\r\n  headers: [\r\n    {\r\n      text: \"No\",\r\n      align: \"start\",\r\n      value: \"id\",\r\n      sortable: true,\r\n      editable: false,\r\n      headerEditable: false,\r\n      fixed: true,\r\n    },\r\n    { text: \"Description\", value: \"description\", editable: true, fixed: true, },\r\n    { text: \"Weight\", value: \"weight\", editable: true },\r\n    {\r\n      text: \"Step1\",\r\n      value: \"step1\",\r\n      sortable: false,\r\n      editable: true,\r\n      headerEditable: true,\r\n      // Added by MMG\r\n      columnDeleteIcon: false\r\n    },\r\n\r\n    { text: \"Fulfillment\", value: \"fulfillment\", editable: false },\r\n\r\n  ],\r\n  deliverables: [],\r\n  steps: [{ text: \"Step1\", identity: \"step1\" }],\r\n  responsibles: [],\r\n  nextColumnName: \"Step2\",\r\n  newRowCounter: 0,\r\n};\r\n\r\nconst mutations = {\r\n  incrementNewRowCounter(state) {\r\n    state.newRowCounter++;\r\n  },\r\n  SET_ROW_COUNTER_TO_ZERO(state, value) {\r\n    state.newRowCounter = value;\r\n  },\r\n  SET_HEADERS(state, headers) {\r\n    state.headers = headers;\r\n  },\r\n  SET_TABLE_STATE(state, deliverables) {\r\n    state.deliverables = deliverables;\r\n  },\r\n  SET_STEPS(state, steps) {\r\n    state.steps = steps;\r\n    state.nextStatusColumn = \"Step\" + (state.steps.length + 1);\r\n  },\r\n  SET_RESPONSIBLES(state, responsibles) {\r\n    state.responsibles = responsibles;\r\n  },\r\n  SET_NEXT_COLUMN_NAME(state, nextColumnName) {\r\n    state.nextColumnName = nextColumnName;\r\n  },\r\n  LOAD_DELIVERABLES(state, loadedArray) {\r\n    if (state.steps.length > 0) {\r\n      state.deliverables = loadedArray;\r\n    }\r\n  },\r\n};\r\n\r\nconst actions = {\r\n  incrementNewRowCounterAction({ commit }) {\r\n    commit('incrementNewRowCounter');\r\n  },\r\n  setRowCounterToZero({ commit }, value) {\r\n    commit('SET_ROW_COUNTER_TO_ZERO', value)\r\n  },\r\n  setHeaders: ({ commit }, headers) => {\r\n    commit(\"SET_HEADERS\", headers);\r\n  },\r\n  setDeliverables: ({ commit }, deliverables) => {\r\n    commit(\"SET_TABLE_STATE\", deliverables);\r\n  },\r\n  setSteps: ({ commit }, steps) => {\r\n    commit(\"SET_STEPS\", steps);\r\n  },\r\n  setResponsibles: ({ commit }, responsibles) => {\r\n    commit(\"SET_RESPONSIBLES\", responsibles);\r\n  },\r\n  setNextColumnName: ({ commit, state }, columnType) => {\r\n    let nextColumnName = \"Step\";\r\n    if (columnType === \"Status\") {\r\n      nextColumnName = \"Step\" + (state.steps.length + 1);\r\n    } else if (columnType === \"Responsible\") {\r\n      if (state.responsibles.length === 0) {\r\n        nextColumnName = \"Responsible\";\r\n      } else {\r\n        nextColumnName = \"Responsible\" + (state.steps.length + 1);\r\n      }\r\n    }\r\n    commit(\"SET_NEXT_COLUMN_NAME\", nextColumnName);\r\n  },\r\n  loadDeliverables: ({ commit }, loadedArray) => {\r\n    commit(\"LOAD_DELIVERABLES\", loadedArray);\r\n  }\r\n};\r\n\r\nconst getters = {\r\n  getNewRowCounter(state) {\r\n    return state.newRowCounter;\r\n  },\r\n  getNextColumnName: state => columnType => {\r\n    let nextColumnName = \"Step\";\r\n    if (columnType === \"Status\") {\r\n      nextColumnName = \"Step\" + (state.steps.length + 1);\r\n    } else if (columnType === \"Responsible\") {\r\n      if (state.responsibles.length === 0) {\r\n        nextColumnName = \"Responsible1\";\r\n      } else {\r\n        nextColumnName = \"Responsible\" + (state.responsibles.length + 1);\r\n      }\r\n    }\r\n    return nextColumnName; \r\n  },\r\n  headers: state => {\r\n    return state.headers;\r\n  },\r\n  deliverables: state => {\r\n    return state.deliverables;\r\n  },\r\n  steps: state => {\r\n    return state.steps;\r\n  },\r\n  responsibles: state => {\r\n    return state.responsibles;\r\n  },\r\n\r\n  stepsFulfillment: state => {\r\n\r\n    if (!state.steps || state.steps.length === 0) {\r\n      return {}; // or return some default value\r\n    }\r\n\r\n    let fulfillmentsObj = {};\r\n\r\n    state.steps.forEach(step => {\r\n      if (step) {\r\n        let totalWeights = 0;\r\n        let wipCount = 0;\r\n        let closedCount = 0;\r\n        state.deliverables.forEach(item => {\r\n\r\n          if (item && item.isChild == true) {\r\n            item.children.forEach((row) => {\r\n              if (row[step.identity] !== \"n.rel.\") {\r\n                totalWeights += +row.weight;\r\n              }\r\n              closedCount += row[step.identity] === \"closed\" ? 1 * row.weight : 0;\r\n              wipCount += row[step.identity] === \"wip\" ? 0.5 * row.weight : 0;\r\n            })\r\n          }\r\n          else {\r\n            if (item[step.identity] !== \"n.rel.\") {\r\n              totalWeights += +item.weight;\r\n            }\r\n            closedCount += item[step.identity] === \"closed\" ? 1 * item.weight : 0;\r\n            wipCount += item[step.identity] === \"wip\" ? 0.5 * item.weight : 0;\r\n          }\r\n        });\r\n\r\n        fulfillmentsObj[step.identity] =\r\n          ((closedCount + wipCount) / totalWeights) * 100;\r\n      }\r\n    });\r\n    // console.log('full fillment', fulfillmentsObj)\r\n    return fulfillmentsObj;\r\n  },\r\n\r\n  subProjectStepsFullFilment: state => {\r\n    if (!state.steps || state.steps.length === 0) {\r\n      return {}; // or return some default value\r\n    }\r\n\r\n    console.log('sub project steps full')\r\n\r\n    let fulfillmentsObj = {};\r\n\r\n    state.deliverables.forEach(item => {\r\n      if (item && item.isGrouped) {\r\n        fulfillmentsObj[item.id] = {};\r\n\r\n        state.steps.forEach(step => {\r\n          if (step) {\r\n            let totalWeights = 0;\r\n            let wipCount = 0;\r\n            let closedCount = 0;\r\n\r\n            item.children.forEach(row => {\r\n              if (row[step.identity] !== \"n.rel.\") {\r\n                totalWeights += +row.weight;\r\n              }\r\n              closedCount += row[step.identity] === \"closed\" ? 1 * row.weight : 0;\r\n              wipCount += row[step.identity] === \"wip\" ? 0.5 * row.weight : 0;\r\n            });\r\n\r\n            if (totalWeights === 0) {\r\n              // Set to 0% if all statuses are \"n.rel.\"\r\n              fulfillmentsObj[item.id][step.identity] = 0;\r\n            } else {\r\n              fulfillmentsObj[item.id][step.identity] =\r\n                ((closedCount + wipCount) / totalWeights) * 100;\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n    return fulfillmentsObj;\r\n  },\r\n\r\n  totalFulfillment: state => {\r\n\r\n    if (state.steps.length === 0) {\r\n      return /* some default value or indication */;\r\n    }\r\n\r\n    let sumAll = 0;\r\n    let totalWeights = 0;\r\n    state.deliverables.forEach(item => {\r\n      if (item && item.isChild == true) {\r\n        item.children.forEach((row) => {\r\n          if (typeof row.fulfillment === \"number\") {\r\n            totalWeights += +row.weight;\r\n            sumAll += row.fulfillment * row.weight;\r\n          }\r\n        })\r\n      } else {\r\n        if (typeof item.fulfillment === \"number\") {\r\n          totalWeights += +item.weight;\r\n          sumAll += item.fulfillment * item.weight;\r\n        }\r\n      }\r\n    });\r\n\r\n    if (totalWeights === 0) {\r\n      return 0; // or return some default value\r\n    }\r\n\r\n    return sumAll / totalWeights;\r\n    // }\r\n  },\r\n\r\n  nextResponsibleIdentity: state => {\r\n    if (state.responsibles.length === 0) {\r\n      return \"responsible1\";\r\n    } else {\r\n      return \"responsible\" + (state.responsibles.length + 1);\r\n    }\r\n  }\r\n};\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters\r\n};\r\n","import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport createPersistedState from \"vuex-persistedstate\";\r\nimport statusTable from \"./modules/statusTable\";\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n  state: {},\r\n  mutations: {},\r\n  actions: {},\r\n  modules: { statusTable },\r\n  plugins: [createPersistedState()]\r\n});\r\n","import Vue from \"vue\";\r\nimport Vuetify from \"vuetify/lib\";\r\n\r\nVue.use(Vuetify);\r\n\r\nexport default new Vuetify({});\r\n","import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport router from \"./router\";\r\nimport store from \"./store\";\r\nimport vuetify from \"./plugins/vuetify\";\r\nimport './assets/styles/style.css';\r\n\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  vuetify,\r\n  render: h => h(App)\r\n}).$mount(\"#app\");\r\n\r\n\r\n"],"sourceRoot":""}