(function(e){function t(t){for(var r,o,l=t[0],s=t[1],c=t[2],u=0,d=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);h&&h(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(r=!1)}r&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},i={app:0},a=[];function o(e){return l.p+"js/"+({"polyfills-core-js":"polyfills-core-js","polyfills-css-shim":"polyfills-css-shim","polyfills-dom":"polyfills-dom"}[e]||e)+"."+{"chunk-04f8a86f":"b671b009","chunk-17725551":"7ce3a177","chunk-1af68f81":"ec0b92a4","chunk-1d800ad7":"1b227f6a","chunk-2a0d4422":"f12db986","chunk-2d0abfcf":"e653a26f","chunk-2d0b26e6":"ef1b79fb","chunk-2d0b2d3b":"9d734cdc","chunk-2d0b722b":"0271c50f","chunk-2d0bad0a":"49bb107e","chunk-2d0c9398":"f4460af1","chunk-2d0cf6e3":"6281ce39","chunk-2d0d7c42":"c6962036","chunk-2d0dd0bc":"b5c4bb06","chunk-2d208de0":"51390cc2","chunk-2d209182":"e822b3b1","chunk-2d217172":"89ee0d11","chunk-2d21d0be":"c5ec0384","chunk-2d228cf2":"64a4fc09","chunk-2d22c8fe":"e97d5cd5","chunk-2d22dbc9":"11f641e7","chunk-2d23154f":"77c6b16b","chunk-2d238683":"4dc770d1","chunk-445f6fdd":"f3d7bfcf","chunk-59a544b9":"2c266fe3","chunk-5c16a8d7":"ef5eebe4","chunk-d8708fd0":"63555b0f","chunk-e5e547a4":"64679bbf","chunk-f993edd8":"2ccc68a6","polyfills-core-js":"c802f76e","polyfills-css-shim":"ac087954","polyfills-dom":"e01853a0"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=o(e);var c=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,n[1](c)}i[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var h=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0e46":function(e,t,n){},1:function(e,t){},2:function(e,t){},"2e21":function(e,t,n){},"32ab":function(e,t,n){"use strict";n("60bb")},"521b":function(e,t,n){var r={"./amplify-amazon-button_5.entry.js":["77e1","chunk-2d0d7c42"],"./amplify-auth-container.entry.js":["398f","chunk-2d0bad0a"],"./amplify-auth-fields_9.entry.js":["2689","chunk-2d0b2d3b"],"./amplify-authenticator.entry.js":["b836","chunk-04f8a86f"],"./amplify-button_3.entry.js":["efa9","chunk-2d23154f"],"./amplify-chatbot.entry.js":["9b2c","chunk-445f6fdd"],"./amplify-checkbox.entry.js":["db86","chunk-2d228cf2"],"./amplify-confirm-sign-in_7.entry.js":["e862","chunk-59a544b9"],"./amplify-container.entry.js":["a72f","chunk-2d208de0"],"./amplify-federated-buttons_2.entry.js":["644c","chunk-2d0cf6e3"],"./amplify-federated-sign-in.entry.js":["a81f","chunk-2d209182"],"./amplify-form-field_4.entry.js":["f988","chunk-2d22dbc9"],"./amplify-greetings.entry.js":["57dd","chunk-2d0c9398"],"./amplify-icon-button.entry.js":["182d","chunk-2d0abfcf"],"./amplify-icon.entry.js":["b8f5","chunk-e5e547a4"],"./amplify-link.entry.js":["f482","chunk-2d22c8fe"],"./amplify-nav_2.entry.js":["23a0","chunk-2d0b26e6"],"./amplify-photo-picker.entry.js":["c4f1","chunk-2d217172"],"./amplify-picker.entry.js":["d040","chunk-2d21d0be"],"./amplify-radio-button_3.entry.js":["97a4","chunk-5c16a8d7"],"./amplify-s3-album.entry.js":["4e6f","chunk-d8708fd0"],"./amplify-s3-image-picker.entry.js":["b90a","chunk-17725551"],"./amplify-s3-image.entry.js":["76ad","chunk-1d800ad7"],"./amplify-s3-text-picker.entry.js":["5af2","chunk-1af68f81"],"./amplify-s3-text.entry.js":["dce0","chunk-2a0d4422"],"./amplify-select-mfa-type.entry.js":["fef4","chunk-2d238683"],"./amplify-sign-in-button.entry.js":["7358","chunk-f993edd8"],"./amplify-tooltip.entry.js":["1faa","chunk-2d0b722b"]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="521b",e.exports=i},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("v-app",[n("v-main",[n("router-view")],1)],1)],1)])},a=[],o=n("ade3"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"containerRef",staticClass:"container-width"},[n("v-container",{attrs:{fluid:""}},[n("v-row",{staticClass:"text-center"},[n("v-col",{staticClass:"overflow-c",attrs:{cols:"12"}},[n("div",{ref:"tableRef"},[n("v-data-table",{staticClass:"elevation-1 zoom custom-data-table ",attrs:{headers:e.filteredHeaders,items:e.deliverables,"hide-default-header":"","hide-default-footer":"","sort-by":e.sortBy,"disable-pagination":"","sort-desc":e.sortDesc},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"header",fn:function(t){var r=t.props.headers;return[n("thead",{staticClass:"v-data-table-header"},[n("tr",{ref:"headerRef"},e._l(r,(function(t){return n("th",{key:t.value,staticStyle:{border:"solid 0.5px",padding:"0px 0px"}},[n("span"),t.value.includes("step")?n("span",{staticStyle:{height:"100%"}},[n("linear-progress",{attrs:{color:"green",height:e.thHeight,value:e.stepsFulfillment[t.value]}},[e._v(" "+e._s(e.stepsFulfillment[t.value]?Math.round(e.stepsFulfillment[t.value]):0)+"% ")])],1):"fulfillment"===t.value?n("span",[n("linear-progress",{attrs:{value:null===e.totalFulfillment||isNaN(e.totalFulfillment)?0:e.totalFulfillment,color:"green",height:e.thHeight,reactive:"reactive",striped:"striped"}},[e._v(" "+e._s(null===e.totalFulfillment||isNaN(e.totalFulfillment)?"n.rel.":e.totalFulfillment+"%")+" ")])],1):n("div",{staticStyle:{color:"white"},on:{click:function(t){return e.toggleWidth()}}},[e._v(" ' ")])])})),0),n("tr",{staticClass:"secondTopRow"},e._l(r,(function(t,r){return n("th",{key:r,staticClass:"sortable",class:{active:e.sortBy===t.value,asc:!1===e.sortDesc},attrs:{id:"tableHeader",role:"columnheader",scope:"col","aria-label":t.text+": Sorted ascending. Activate to sort descending.","aria-sort":"ascending"}},[n("edit-dialog-table-header",{attrs:{header:t},on:{handleChangeHeader:e.changeHeader,handleInputChange:e.inputChanged,handleHeaderTextFileOpend:e.headerTextFieldOpen}}),t.headerEditable?n("span",{attrs:{id:"deleteIcon"},on:{click:function(t){return e.conformMessage("",r,"column")}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-delete")])],1):n("span",[n("span",{on:{click:function(n){return e.sortColumn(t.value)}}},[n("span",[e._v(e._s(t.text)+" ")]),n("span",[n("i",{staticClass:"v-icon notranslate v-data-table-header__icon mdi mdi-arrow-up theme--light",staticStyle:{"font-size":"18px",transition:"transform 0.25s linear"},style:{transform:"rotate("+e.rotateValues[t.value]+"deg)"},attrs:{"aria-hidden":"true"},on:{click:function(n){e.rotateValues[t.value]+=0===e.rotateValues[t.value]?-180:180}}})])])])],1)})),0)])]}},{key:"body",fn:function(t){var r=t.items,i=t.headers;return[n("tbody",[e._l(r,(function(t,r){return[n("tr",{ref:"rowRef",refInFor:!0},e._l(i,(function(i,a){return n("td",{key:"inner_"+a,class:{"expanded-td":e.expandedWidth},style:e.cellBackgroundStyle(t[i.value]),attrs:{title:e.expandedWidth?e.getTitle(t,i):""},on:{mouseover:function(e){t.showEditDialog=!0},mouseleave:function(n){return e.mouseLeave(t)}}},[i.editable?n("span",{class:{"left-justified":"description"===i.value||i.value.includes("responsible")}},[t.showEditDialog||t.isChild?n("span",[i.value.includes("step")?[t.isChild?n("span",[e._v(" "+e._s(e.subProjectStepsFullFilment[t.id]?parseInt(Math.round(e.subProjectStepsFullFilment[t.id][i.value])):0)+"% ")]):n("span",{staticStyle:{cursor:"pointer"},on:{click:function(n){return e.handleSelectChange(t,i.value)}}},[e._v(" "+e._s(t[i.value])+" ")])]:[n("edit-dialog-table-body",{attrs:{item:t,header:i},on:{handleChangeCell:e.changeCell,handleClose1:e.close1,handleInputChanged:e.inputChanged,handleOpen:e.open}})]],2):n("span",[e._v(" "+e._s(t[i.value])+" ")])]):n("span",["fulfillment"===i.value?n("span",[n("linear-progress",{attrs:{value:"number"===typeof t[i.value]?t[i.value]:0,color:"green",height:e.tdHeight,reactive:"reactive",striped:"striped"}},[e._v(" "+e._s("number"===typeof t[i.value]?Math.round(t[i.value])+"%":"n.rel.")+" ")])],1):n("div",{class:{"deliverable--number":"id"===i.value,"selected-row":e.isSelected(t.id)},on:{click:function(n){return e.handleClick(n,r,t.id)}}},[e._v(" "+e._s(t[i.value])+" ")])])])})),0),t.children&&t.children.length>0?e._l(t.children,(function(t,a){return n("tr",{key:"child_"+r+"_"+a},e._l(i,(function(i,o){return n("td",{key:"inner_child_"+o,class:{"expanded-td":e.expandedWidth},style:e.cellBackgroundStyle(t[i.value]),attrs:{title:e.expandedWidth?e.getTitle(t,i):""},on:{mouseover:function(e){t.showEditDialog=!0},mouseleave:function(n){return e.mouseLeave(t)}}},[i.editable?n("span",{class:{"left-justified":"description"===i.value||i.value.includes("responsible")}},[t.showEditDialog?n("span",[i.value.includes("step")?[n("span",{staticStyle:{cursor:"pointer"},on:{click:function(n){return e.handleSelectChange(t,i.value)}}},[e._v(" "+e._s(t[i.value])+" ")])]:[n("edit-dialog-table-body",{attrs:{item:t,header:i},on:{handleChangeCell:e.changeCell,handleClose1:e.close1,handleInputChanged:e.inputChanged,handleOpen:e.open}})]],2):n("span",[e._v(e._s(t[i.value]))])]):n("span",["fulfillment"===i.value?n("span",[n("linear-progress",{attrs:{value:"number"===typeof t[i.value]?t[i.value]:0,color:"green",height:e.tdHeight,reactive:"reactive",striped:"striped"}},[e._v(" "+e._s("number"===typeof t[i.value]?Math.round(t[i.value])+"%":"n.rel.")+" ")])],1):n("div",{class:{"deliverable--number":"id"==i.value,"selected-row":e.isSelected(t.id)},staticStyle:{cursor:"pointer"},on:{click:function(n){return e.handleClick(n,a,t.id,r)}}},[e._v(" "+e._s(t[i.value])+" ")])])])})),0)})):e._e()]})),e.toolboxVisible?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closetoolbox,expression:"closetoolbox"}],staticClass:"toolbox",style:{top:e.selectedRowTop+"px"}},[n("v-icon",{attrs:{small:""},on:{click:e.deleteRows}},[e._v("mdi-delete")]),n("v-icon",{attrs:{small:""},on:{click:e.createNewRowFromSelected}},[e._v("mdi-arrow-right")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return t.stopPropagation(),e.ungroupSelectedChildren.apply(null,arguments)}}},[e._v("mdi-arrow-left")])],1):e._e()],2)]}},{key:"top",fn:function(){return[n("toolbar",{attrs:{showWeight:e.showWeight},on:{handleShowWeight:e.toggleWeight,handleUndelete:e.undoDelete}})]},proxy:!0}])})],1)])],1)],1),e.showConformMessage?n("div",[n("ConfirmMessage",{attrs:{message:e.message,pressedType:e.pressedType},on:{deleteRow:e.deleteRow,deleteStep:function(t){return e.deleteColumn("step")},deleteResponsible:function(t){return e.deleteColumn("responsible")},dontDelete:e.toggleShowConformMessage}})],1):e._e()],1)},s=[],c=n("2909"),u=n("5530"),h=(n("a4d3"),n("e01a"),n("99af"),n("4de4"),n("7db0"),n("c740"),n("4160"),n("caad"),n("c975"),n("d81d"),n("4e827"),n("a434"),n("d3b7"),n("e25e"),n("2532"),n("159b"),n("4795"),n("d4ec")),d=n("bee2"),f=function(){function e(){Object(h["a"])(this,e)}return Object(d["a"])(e,[{key:"calculateRowFulfillment",value:function(e,t){var n=t.length,r=0,i=0,a=0;t.forEach((function(t){r+="closed"===e[t.identity]?1:0,i+="wip"===e[t.identity]?.5:0,a+="n.rel."===e[t.identity]?1:0}));var o,l=n-a;o=a===n?"n.rel.":(r+i)/l*100,e.fulfillment=o}},{key:"recalculateAllFulfillments",value:function(e,t){var n=this;e.forEach((function(e){n.calculateRowFulfillment(e,t),e.isGrouped&&(e.children.forEach((function(e){n.calculateRowFulfillment(e,t)})),n.calculateParentFulfillment(e,t))}))}},{key:"calculateParentFulfillment",value:function(e,t){if(t.length>0){var n=0,r=0;e.children.forEach((function(e,t){"number"===typeof e.fulfillment&&(n+=+e.weight,r+=e.fulfillment*e.weight)})),e.fulfillment=r/n}}}])}(),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"backdrop",on:{click:function(t){return t.target!==t.currentTarget?null:e.closePopup("cancel")}}},[n("div",{staticClass:"popup"},[n("h3",[e._v(e._s(e.message))]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.closePopup("cancel")}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.closePopup("yes")}}},[e._v("Yes")])],1)])},v=[],g={props:["message","pressedType"],methods:{closePopup:function(e){"cancel"===e?this.$emit("dontDelete"):"yes"===e&&("Row"===this.pressedType?this.$emit("deleteRow"):"step"===this.pressedType?this.$emit("deleteStep"):"responsible"===this.pressedType&&this.$emit("deleteResponsible"))}}},m=g,b=n("2877"),y=n("6544"),w=n.n(y),x=n("8336"),C=Object(b["a"])(m,p,v,!1,null,null,null),E=C.exports;w()(C,{VBtn:x["a"]});var F=n("2f62"),S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-progress-linear",{attrs:{value:e.value,color:e.color,height:e.height,reactive:"",striped:""}},[e._t("default")],2)},_=[],k={props:["value","color","height","reactive","striped"]},O=k,R=n("8e36"),j=Object(b["a"])(O,S,_,!1,null,null,null),T=j.exports;w()(j,{VProgressLinear:R["a"]});var I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-edit-dialog",{on:{close:function(t){return e.close1(e.item)},cancel:e.cancel,open:function(t){return e.open(e.item[e.header.value])},save:function(t){return e.changeCell(e.item,e.header.value)}},scopedSlots:e._u([{key:"input",fn:function(){return[n("span",["Weight"===e.header.text?n("v-text-field",{attrs:{type:"number",rules:[e.rules.required,e.rules.positiveNumbers],value:e.item[e.header.value],label:"Edit","single-line":""},on:{focus:function(e){return e.target.select()},change:function(t){return e.inputChanged(t,"weight")}}}):n("v-text-field",{attrs:{value:e.item[e.header.value],label:"Edit","single-line":""},on:{focus:function(e){return e.target.select()},change:function(t){return e.inputChanged(t)}}})],1)]},proxy:!0}])},[e._v(" "+e._s(e.item[e.header.value])+" ")])},N=[],D={props:["header","item"],data:function(){return{rules:{counter:function(e){return e.length<=20||"Max 20 characters"},required:function(e){return!!e||"Required."},positiveNumbers:function(e){return e>0||"Should be greater than 0"},alreadyExist:!0}}},emits:["handleClose1","handleOpen","handleChangeCell","handleInputChanged"],methods:{close:function(){},cancel:function(){},close1:function(e){this.$emit("handleClose1",e)},open:function(e){this.$emit("handleOpen",e)},changeCell:function(e,t){this.$emit("handleChangeCell",e,t)},inputChanged:function(e,t){this.$emit("handleInputChanged",e,t)}}},L=D,$=n("7679"),A=n("8654"),M=Object(b["a"])(L,I,N,!1,null,null,null),P=M.exports;w()(M,{VEditDialog:$["a"],VTextField:A["a"]});var W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar",{staticClass:"mb-0 mt-0",attrs:{height:"32",flat:"",color:"white"}},[n("v-toolbar-title",[e._v("Tasks")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-btn",{staticClass:"mb-2",attrs:{"x-small":"",color:"primary",dark:""},on:{click:e.generateExcel}},[e._v("Generate Excel")]),n("v-btn",{staticClass:"mb-2 ml-2",attrs:{"x-small":"",color:"primary",dark:""},on:{click:e.adjustSize}},[e._v(e._s(e.adjustText))]),n("v-btn",{staticClass:"mb-2 ml-2",attrs:{"x-small":"",color:"primary",dark:""},on:{click:e.addRow}},[e._v("Add Row")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-file-input",{attrs:{dense:"",placeholder:"Load excel file",label:"File input","prepend-icon":"mdi-paperclip","show-size":""},on:{change:e.loadExcel},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.text;return[n("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(e._s(r))])]}}]),model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-spacer"),n("v-btn",{staticClass:"mr-2 mb-2",attrs:{"x-small":"",color:"primary",dark:""},on:{click:e.undoDelete}},[e._v(" UNDELETE ")]),n("v-btn",{staticClass:"mb-2",attrs:{"x-small":"",color:"primary",dark:""},on:{click:e.toggleWeight}},[e._v(e._s(e.showWeight))]),n("AddColumn"),"signedin"!==e.authState?n("button",{staticClass:"btn__login",on:{click:e.goToSignIn}},[n("span",{staticClass:"mdi mdi-login"})]):e._e(),"signedin"==e.authState?n("button",{staticClass:"btn__logout",on:{click:e.signOut}},[n("span",{staticClass:"mdi mdi-logout"})]):e._e()],1)},V=[],U=n("53ca"),B=n("1da1"),H=(n("b636"),n("d28b"),n("944a"),n("d9e2"),n("d401"),n("26e9"),n("fb6a"),n("b0c0"),n("0c47"),n("23dc"),n("b8bf"),n("7a82"),n("3410"),n("131a"),n("3ca3"),n("ddb0"),n("a15b"),n("45fc"),n("acd8"),n("e8ae")),G=n.n(H),q=n("21a6");function z(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */z=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),l=new j(r||[]);return i(o,"_invoke",{value:_(e,n,l)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",g={};function m(){}function b(){}function y(){}var w={};c(w,o,(function(){return this}));var x=Object.getPrototypeOf,C=x&&x(x(T([])));C&&C!==n&&r.call(C,o)&&(w=C);var E=y.prototype=m.prototype=Object.create(w);function F(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,l){var s=h(e[i],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Object(U["a"])(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function _(t,n,r){var i=d;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var s=k(l,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=h(t,n,r);if("normal"===c.type){if(i=r.done?v:f,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator["return"]&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Object(U["a"])(t)+" is not iterable")}return b.prototype=y,i(E,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:b,configurable:!0}),b.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},F(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},F(E),c(E,s,"Generator"),c(E,o,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}var Y="closed",Z="wip",J="open",K="n.rel.",X=function(){function e(t,n,r,i,a){Object(h["a"])(this,e),this.deliverables=t,this.steps=n,this.responsibles=r,this.stepsFulfillment=i,this.totalFulfillment=a}return Object(d["a"])(e,[{key:"saveAsExcel",value:function(){var e=Object(B["a"])(z().mark((function e(t){var n,r,i,a,o;return z().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new G.a.Workbook,r=n.addWorksheet("TestSheet"),this.calculateFirstRow(r,t.steps,t.responsibles,t.stepsFulfillment,t.totalFulfillment),i=this.formTableRows(r,t),this.addFormattingFulfillmentsColumns(r,t,i),this.addFormattingFirstRow(r,t),this.addStepDropDownAndColor(r,t,i),this.addfulfillmentFormula(r,t),this.addFirstRowFormula(r,t,i),this.addChildRowStepsFormula(r,t),a=[],t.headers.forEach((function(e){a.push({name:e.text,filterButton:!0})})),r.addTable({name:"MyTable",ref:"A2",headerRow:!0,style:{showRowStripes:!0},columns:a,rows:i}),e.next=15,n.xlsx.writeBuffer();case 15:o=e.sent,Object(q["saveAs"])(new Blob([o]),"Tasks.xlsx");case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"calculateFirstRow",value:function(e,t,n,r,i){for(var a=[],o=0;o<n.length;o++)a.push("");var l=[];t.forEach((function(e){l.push(r[e.identity]/100)}));var s=["","",""].concat(a,l,[i/100]);console.log("first row",s),e.addRow(s)}},{key:"addFormattingFirstRow",value:function(e,t){var n=3+t.responsibles.length,r=e._columns[n].letter,i=e._columns[n+t.steps.length].letter;e.addConditionalFormatting({ref:"".concat(r,"1:").concat(i,"1"),rules:[{type:"dataBar",color:{argb:"C6EFCE"},gradient:!1,cfvo:[{type:"num",value:0},{type:"num",value:1}],style:{font:{color:{argb:"006100"}}}}]});for(var a=n;a<=n+t.steps.length;a++){var o=e._columns[a].letter;this.addNumberFormatting(e,o+"1")}}},{key:"addFormattingChildRows",value:function(e,t){e.addConditionalFormatting({ref:"".concat(t),rules:[{type:"dataBar",color:{argb:"C6EFCE"},gradient:!1,cfvo:[{type:"num",value:0},{type:"num",value:1}],style:{font:{color:{argb:"006100"}}}}]}),this.addNumberFormatting(e,t)}},{key:"addFirstRowFormula2",value:function(e,t,n){for(var r=3+t.responsibles.length,i=r+t.steps.length,a=e._columns[2].letter,o=r;o<=i;o++)for(var l=e._columns[o].letter,s=l+"1",c=[],u=3,h=[],d=0,f=1;f<=t.deliverables.length;f++){var p=t.deliverables[f-1];if(p&&1==p.isChild){var v=p.children.length;console.log("run child parts"),d+=1,c.push("".concat(a).concat(u));for(var g=1;g<=v;g++)h.push("(\n              IF(ISNUMBER(".concat(l).concat(u+g,"), ").concat(l).concat(u+g,", \n                IF(").concat(l).concat(u+g,'="').concat(Y,'", 1, \n                  IF(').concat(l).concat(u+g,'="').concat(Z,'", 0.5, \n                    IF(').concat(l).concat(u+g,'="').concat(J,'", 0, \n                      IF(').concat(l).concat(u+g,'="').concat(K,'", 0, 0)\n                    )\n                  )\n                )\n              ) * ').concat(a).concat(u+g,"\n            )"));u+=v+1}else h.push("(\n            IF(ISNUMBER(".concat(l).concat(u,"), ").concat(l).concat(u,", \n              IF(").concat(l).concat(u,'="').concat(Y,'", 1, \n                IF(').concat(l).concat(u,'="').concat(Z,'", 0.5, \n                  IF(').concat(l).concat(u,'="').concat(J,'", 0, \n                    IF(').concat(l).concat(u,'="').concat(K,'", 0, 0)\n                  )\n                )\n              )\n            ) * ').concat(a).concat(u,"\n          )")),u+=1;var m="COUNTIF(".concat(l,3,":").concat(l).concat(2+n.length,', "n.rel.")');e.getCell(s).value={formula:m},console.log("excludes weights cells",c);var b="=IF(".concat(m," = ").concat(n.length-d,', "n.rel.", \n              IFERROR(SUM(').concat(h.join(", "),'), "") / \n                (SUM(').concat(a,3,":").concat(a).concat(2+n.length,") - \n                SUMIF(").concat(l,3,":").concat(l).concat(2+n.length,',\n                  "n.rel.", ').concat(a,3,":").concat(a).concat(2+n.length,") \n                      - SUM(").concat(c.length>0?c:0,")\n                  ))");e.getCell(s).value={formula:b}}}},{key:"addFirstRowFormula",value:function(e,t,n){for(var r=3+t.responsibles.length,i=r+t.steps.length,a=e._columns[2].letter,o=r;o<=i;o++){for(var l=e._columns[o].letter,s=l+"1",c=[],u=3,h=[],d=0,f=1;f<=t.deliverables.length;f++){t.deliverables[f-1];h.push("(\n          IF(ISNUMBER(".concat(l).concat(u,"), ").concat(l).concat(u,", \n          (COUNTIF(").concat(l).concat(u,',"').concat(Y,'") \n          +COUNTIF(').concat(l).concat(u,',"').concat(Z,'")* 0.5) / \n          (COUNTIF(').concat(l).concat(u,',"').concat(J,'") \n          +COUNTIF(').concat(l).concat(u,',"').concat(Z,'") \n          +COUNTIF(').concat(l).concat(u,',"').concat(Y,'")) * ').concat(a).concat(u,")\n          )")),u+=1}var p="COUNTIF(".concat(l,3,":").concat(l).concat(2+n.length,', "n.rel.")');e.getCell(s).value={formula:p},console.log("excludes weights cells",c);var v="=IF(".concat(p," = ").concat(n.length-d,', "n.rel.", \n              IFERROR(SUM(').concat(h.join(", "),'), "") / \n                (SUM(').concat(a,3,":").concat(a).concat(2+n.length,") - \n                SUMIF(").concat(l,3,":").concat(l).concat(2+n.length,',\n                  "n.rel.", ').concat(a,3,":").concat(a).concat(2+n.length,") \n                      - SUM(").concat(c.length>0?c:0,")\n                  ))");e.getCell(s).value={formula:v}}}},{key:"addFirstRowFormula3",value:function(e,t,n){for(var r=3+t.responsibles.length,i=r+t.steps.length,a=e._columns[2].letter,o=(t.deliverables.length,r);o<=i;o++){var l=e._columns[o].letter,s=l+"1",c=3,u=c+n.length-1,h="=IFERROR(\n        SUMPRODUCT(\n          (((".concat(l).concat(c,":").concat(l).concat(u,' = "').concat(Y,'") +\n            (').concat(l).concat(c,":").concat(l).concat(u,' = "').concat(Z,'") * 0.5) *\n            (').concat(a).concat(c,":").concat(a).concat(u,")) *\n            ((").concat(l).concat(c,":").concat(l).concat(u,' <> "').concat(K,'") * 1)\n        ) /\n        SUMIFS(\n          ').concat(a).concat(c,":").concat(a).concat(u,",\n          ").concat(l).concat(c,":").concat(l).concat(u,',\n          "<> ').concat(K,'"\n        ),\n        "').concat(K,'"\n      )');e.getCell(s).value={formula:h}}}},{key:"addChildRowStepsFormula",value:function(e,t){for(var n=3+t.responsibles.length,r=n+t.steps.length,i=e._columns[2].letter,a=n;a<=r;a++)for(var o=e._columns[a].letter,l=3,s=1;s<=t.deliverables.length;s++){var c=t.deliverables[s-1],u=[],h=void 0,d=o+"".concat(l);if(c&&1==c.isChild){this.addFormattingChildRows(e,d),h=c.children.length;for(var f=1;f<=h;f++)u.push("(\n              IF(ISNUMBER(".concat(o).concat(l+f,"), ").concat(o).concat(l+f,", \n                IF(").concat(o).concat(l+f,'="').concat(Y,'", 1, \n                  IF(').concat(o).concat(l+f,'="').concat(Z,'", 0.5, \n                    IF(').concat(o).concat(l+f,'="').concat(J,'", 0, \n                      IF(').concat(o).concat(l+f,'="').concat(K,'", 0, 0)\n                    )\n                  ) \n                )\n              ) * ').concat(i).concat(l+f,"\n            )"));var p="COUNTIF(".concat(o).concat(l+1,":").concat(o).concat(l+h,', "n.rel.")'),v="=IF(".concat(p," = ").concat(h,', "n.rel.", \n            IFERROR(SUM(').concat(u.join(", "),'), "") / \n              (SUM(').concat(i).concat(l+1,":").concat(i).concat(l+h,") - \n              SUMIF(").concat(o).concat(l+1,":").concat(o).concat(l+h,',\n                "n.rel.", ').concat(i).concat(l+1,":").concat(i).concat(l+h,")))");e.getCell(d).value={formula:v},console.log("child row cell formula and the cell is ".concat(d),e.getCell(d).value),l+=h}l++}}},{key:"addDropDownAndColor",value:function(e,t){e.getCell(t).dataValidation={type:"list",allowBlank:!0,formulae:['"'.concat(J,",").concat(Z,",").concat(Y,",").concat(K,'"')]},this.addColorFormatting(e,t)}},{key:"addStepDropDownAndColor",value:function(e,t,n){for(var r=3+t.responsibles.length,i=r+t.steps.length-1,a=r;a<=i;a++)for(var o=3,l=e._columns[a].letter,s=1;s<=t.deliverables.length;s++){var c=void 0,u=t.deliverables[s-1];if(u&&1==u.isChild){o+=1;for(var h=1;h<u.children.length;h++)c="".concat(l).concat(o),this.addDropDownAndColor(e,c),o+=1}c="".concat(l).concat(o),this.addDropDownAndColor(e,c),o+=1}}},{key:"addFormattingFulfillmentsColumns",value:function(e,t,n){var r=3+t.responsibles.length+t.steps.length,i=e._columns[r].letter;e.addConditionalFormatting({ref:"".concat(i,3,":").concat(i).concat(n.length+2),rules:[{type:"dataBar",color:{argb:"C6EFCE"},gradient:!1,cfvo:[{type:"num",value:0},{type:"num",value:1}],style:{font:{color:{argb:"006100"}}}}]});for(var a=1;a<=n.length;a++)this.addNumberFormatting(e,i+(a+2))}},{key:"addfulfillmentFormulaHelper",value:function(e,t,n){var r="=IFERROR((COUNTIF(".concat(e).concat(n,":").concat(t).concat(n,',"').concat(Y,'") \n          +COUNTIF(').concat(e).concat(n,":").concat(t).concat(n,',"').concat(Z,'")* 0.5) / \n          (COUNTIF(').concat(e).concat(n,":").concat(t).concat(n,',"').concat(J,'") \n          +COUNTIF(').concat(e).concat(n,":").concat(t).concat(n,',"').concat(Z,'") \n          +COUNTIF(').concat(e).concat(n,":").concat(t).concat(n,',"').concat(Y,'")) ,"').concat(K,'")');return r}},{key:"addfulfillmentFormula",value:function(e,t){for(var n=3+t.responsibles.length+t.steps.length,r=e._columns[n].letter,i=3+t.responsibles.length,a=3,o=e._columns[i].letter,l=e._columns[i+t.steps.length-1].letter,s=1;s<=t.deliverables.length;s++){var c=t.deliverables[s-1],u=void 0;if(c&&!0===c.isChild){u=c.children.length;for(var h=1;h<=u;h++){var d=this.addfulfillmentFormulaHelper(o,l,a+h),f="".concat(r).concat(a+h);e.getCell(f).value={formula:d}}a+=u+1}else{var p=this.addfulfillmentFormulaHelper(o,l,a),v="".concat(r).concat(a);e.getCell(v).value={formula:p},a+=1}}}},{key:"addNumberFormatting",value:function(e,t){e.getCell(t).numFmt="0%"}},{key:"formTableRows",value:function(e,t){var n=[];return t.deliverables.forEach((function(e,r){var i=[];if(e.isChild){var a=[];t.responsibles.forEach((function(t){a.push(e[t.identity])})),console.log("responsible rows",a);var o=[e.id,e.description,e.weight].concat(a);n.push(o),e.children.forEach((function(e,r){var i=[];i.push(e.id),i.push(e.description),i.push(parseFloat(e.weight)),t.responsibles.forEach((function(t){i.push(e[t.identity])})),t.steps.forEach((function(t){i.push(e[t.identity])})),n.push(i)}))}else i.push(e.id),i.push(e.description),i.push(parseFloat(e.weight)),t.responsibles.forEach((function(t){i.push(e[t.identity])})),t.steps.forEach((function(t){i.push(e[t.identity])})),n.push(i)})),n}},{key:"addColorFormatting",value:function(e,t){e.addConditionalFormatting({ref:t,rules:[{type:"cellIs",operator:"equal",color:{argb:"FF00FF00"},formulae:['"'.concat(Y,'"')],style:{fill:{type:"pattern",pattern:"solid",bgColor:{argb:"C6EFCE"}},font:{color:{argb:"006100"}}}}]}),e.addConditionalFormatting({ref:t,rules:[{type:"cellIs",operator:"equal",color:{argb:"FF00FF00"},formulae:['"'.concat(J,'"')],style:{fill:{type:"pattern",pattern:"solid",bgColor:{argb:"FFC7CE"}},font:{color:{argb:"9C0006"}}}}]}),e.addConditionalFormatting({ref:t,rules:[{type:"cellIs",operator:"equal",color:{argb:"FF00FF00"},formulae:['"'.concat(Z,'"')],style:{fill:{type:"pattern",pattern:"solid",bgColor:{argb:"FFEB9C"}},font:{color:{argb:"9C6500"}}}}]}),e.addConditionalFormatting({ref:t,rules:[{type:"cellIs",operator:"equal",color:{argb:"FF00FF00"},formulae:['"'.concat(K,'"')],style:{fill:{type:"pattern",pattern:"solid",bgColor:{argb:""}}}}]})}},{key:"loadExcel",value:function(){var e=Object(B["a"])(z().mark((function e(t){var n,r,i;return z().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],r=new G.a.Workbook,i=new FileReader,i.readAsArrayBuffer(t.file),e.abrupt("return",new Promise((function(e){i.onload=Object(B["a"])(z().mark((function t(){var a,o,l,s,c,u,h,d,f,p,v,g,m,b,y,w,x,C,E;return z().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i.result,t.next=3,r.xlsx.load(a);case 3:if(o=t.sent,l=o.getWorksheet(1),s=4,c=0,u=0,h=0,d=3,l.eachRow((function(e,t){if(!(t<2)){var r=e.values;if(r.shift(),2!=t){3==t&&(r.some((function(e,t){if(e=="".concat(J)||e=="".concat(Z)||e=="".concat(Y)||e=="".concat(K))return s=t+1,!0})),s-d!=1&&(u=d+1,h=s-1),c=r.length-1);var i={id:e.getCell(1).value,description:e.getCell(2).value,weight:e.getCell(3).value,showEditDialog:!1},a=1;if(0!=u)for(var o=u;o<=h;o++)1==a?i["responsible"]=e.getCell(o).value:i["responsible"+a]=e.getCell(o).value,a++;a=1;for(var l=s;l<=c;l++)i["step"+a]=e.getCell(l).value,a++;i["fulfillment"]=e.getCell(r.length).value,n.push(i)}else f=r}})),p=[],v=1,0!=u)for(g=u;g<=h;g++)1==v?p.push({text:f[g-1],identity:"responsible"}):p.push({text:f[g-1],identity:"responsible".concat(v)}),v++;for(m=[],b=1,y=s;y<=c;y++)m.push({text:f[y-1],identity:"step".concat(b)}),b++;if(w=[{text:"No",align:"start",value:"id",sortable:!0,editable:!1,headerEditable:!1},{text:"Description",value:"description",editable:!0},{text:"Weight",value:"weight",editable:!0},{text:"Fulfillment",value:"fulfillment",editable:!1}],v=1,p.length>0)for(x=u;x<=h;x++)1==v?w.splice(x-1,0,{text:"".concat(f[x-1]),value:"responsible",editable:!0,sortable:!1,headerEditable:!0}):w.splice(x-1,0,{text:"".concat(f[x-1]),value:"responsible".concat(v),editable:!0,sortable:!1,headerEditable:!0}),v++;for(b=1,C=s;C<=c;C++)w.splice(C-1,0,{text:"".concat(f[C-1]),value:"step".concat(b),editable:!0,sortable:!1,headerEditable:!0}),b++;E={deliverables:n,responsibles:p,steps:m,headers:w},e(E);case 24:case"end":return t.stop()}}),t)})))})).then((function(e){return e})));case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}])}(),Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-btn",{staticClass:"mx-2 mb-2",attrs:{"x-small":"",dark:"",color:"primary"},on:{click:function(t){return e.addColumn("Status")}}},[e._v("ADD STATUS COLUMN")]),n("v-btn",{staticClass:"mx-2 mb-2",attrs:{"x-small":"",dark:"",color:"primary"},on:{click:function(t){return e.addColumn("Responsible")}}},[e._v("ADD RESPONSIBLE COLUMN")])],1)},ee=[],te={data:function(){var e=this;return{stepOffset:3,nextColumnName:this.getNextColumnName("Status"),rules:{counter:function(e){return e.length<=20||"Max 20 characters"},required:function(e){return!!e||"Required."},alreadyExist:function(t){return!e.headers.find((function(e){return t.toLowerCase()===e.text.toLowerCase()}))||"Column name already exist"}}}},methods:{getNextColumnName:function(e){return this.$store.getters.getNextColumnName(e)},addColumn:function(e){this.nextColumnName=this.getNextColumnName(e),!0===this.rules.required(this.nextColumnName)&&!0===this.rules.alreadyExist(this.nextColumnName)&&("Status"===e?this.addStatusColumn():this.addResponsibleColumn(),this.$store.dispatch("setHeaders",this.headers),this.$store.dispatch("setDeliverables",this.deliverables),this.$store.dispatch("setNextColumnName",e))},addStatusColumn:function(){var e=this,t=this.steps.length,n=this.nextColumnName,r="step".concat(t+1);this.headers.splice(this.headers.length-1,0,{text:n,value:r,editable:!0,sortable:!1,headerEditable:!0,columnDeleteIcon:!1}),this.steps.push({text:n,identity:r}),this.deliverables.forEach((function(t){t.isGrouped?t.children.map((function(t){e.$set(t,r,"open")})):e.$set(t,r,"open")}));var i=new f;i.recalculateAllFulfillments(this.deliverables,this.steps),this.$store.dispatch("setSteps",this.steps)},addResponsibleColumn:function(){var e=this.responsibles.length,t=this.nextColumnName,n=this.$store.getters.nextResponsibleIdentity;this.headers.splice(e+this.stepOffset,0,{text:t,value:n,editable:!0,sortable:!1,headerEditable:!0,columnDeleteIcon:!1}),this.responsibles.push({text:t,identity:n}),this.$store.dispatch("setResponsibles",this.responsibles)}},computed:Object(u["a"])(Object(u["a"])({},Object(F["b"])(["statusTable"])),{},{headers:function(){return this.statusTable.headers},deliverables:function(){return this.statusTable.deliverables},responsibles:function(){return this.statusTable.responsibles},steps:function(){return this.statusTable.steps}})},ne=te,re=Object(b["a"])(ne,Q,ee,!1,null,null,null),ie=re.exports;w()(re,{VBtn:x["a"]});var ae=n("bf82"),oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("amplify-authenticator",[n("amplify-sign-in")],1)],1)},le=[],se={name:"Auth",data:function(){return{}},methods:{}},ce=se,ue=(n("640c"),Object(b["a"])(ce,oe,le,!1,null,"9682bd7e",null)),he=ue.exports,de=n("c50f");function fe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),l=new j(r||[]);return i(o,"_invoke",{value:_(e,n,l)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",g={};function m(){}function b(){}function y(){}var w={};c(w,o,(function(){return this}));var x=Object.getPrototypeOf,C=x&&x(x(T([])));C&&C!==n&&r.call(C,o)&&(w=C);var E=y.prototype=m.prototype=Object.create(w);function F(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,l){var s=h(e[i],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Object(U["a"])(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function _(t,n,r){var i=d;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var s=k(l,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=h(t,n,r);if("normal"===c.type){if(i=r.done?v:f,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator["return"]&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Object(U["a"])(t)+" is not iterable")}return b.prototype=y,i(E,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:b,configurable:!0}),b.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},F(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},F(E),c(E,s,"Generator"),c(E,o,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}var pe=new f,ve={props:["showWeight"],emits:["handleShowWeight","handleUndelete"],data:function(){return{horizontalAdjusted:!1,adjustText:"Fit On Page",heightScale:0,widthScale:0,file:null,authState:void 0}},components:{AddColumn:ie,AuthComp:he},mounted:function(){var e=this;this.unsubscribeAuth=Object(de["a"])((function(t,n){e.authState=t}))},computed:Object(u["a"])(Object(u["a"])({stepsFulfillment:function(){return this.$store.getters.stepsFulfillment}},Object(F["b"])(["statusTable"])),{},{headers:function(){return this.statusTable.headers},filteredHeaders:function(){var e=this;return this.statusTable.headers.filter((function(t){return"Show Weight"!==e.showWeight||"weight"!==t.value}))},deliverables:function(){return this.statusTable.deliverables},responsibles:function(){return this.statusTable.responsibles},steps:function(){return this.statusTable.steps},totalFulfillment:function(){return Math.round(this.$store.getters.totalFulfillment)}}),methods:{goToSignIn:function(){this.$router.push("/auth")},signOut:function(){ae["a"].signOut()},generateExcel:function(){var e=new X(this.deliverables,this.steps,this.responsibles,this.stepsFulfillment,this.totalFulfillment),t={deliverables:this.deliverables,headers:this.headers,steps:this.steps,responsibles:this.responsibles,stepsFulfillment:this.stepsFulfillment,totalFulfillment:this.totalFulfillment};e.saveAsExcel(t)},adjustSize:function(){var e=document.getElementsByTagName("table")[0],t=document.getElementsByClassName("v-data-table__wrapper")[0];if("Normal Size"===this.adjustText)this.horizontalAdjusted||(t.style.width=t.clientWidth*this.heightScale+"px"),e.style.transform="scale(1)",this.adjustText="Fit On Page";else{var n=t.clientWidth,r=t.clientHeight,i=t.scrollWidth,a=t.scrollHeight;this.widthScale=n/i,this.heightScale=r/a,this.widthScale<this.heightScale?(e.style.transform="scale(".concat(this.widthScale,")"),this.horizontalAdjusted=!0):(e.style.transform="scale(".concat(this.heightScale,")"),t.style.width=t.clientWidth/this.heightScale+"px",this.horizontalAdjusted=!1),this.adjustText="Normal Size"}},addRow:function(){var e=1,t=this.deliverables.length;0!==t&&(e=this.deliverables[t-1].id+1);var n={id:e,description:"",responsible:"",weight:1,fulfillment:0,showEditDialog:!1};this.steps.forEach((function(e){var t=e.identity;n[t]="open"})),this.deliverables.push(n),this.$store.dispatch("setDeliverables",this.deliverables)},loadExcel:function(){var e=this;return Object(B["a"])(fe().mark((function t(){var n,r,i;return fe().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.file){t.next=12;break}return n=new X(e.deliverables,e.steps,e.responsibles,e.stepsFulfillment,e.totalFulfillment),r={file:e.file,deliverables:e.deliverables,headers:e.headers,steps:e.steps,responsibles:e.responsibles,stepsFulfillment:e.stepsFulfillment,totalFulfillment:e.totalFulfillment},t.next=5,n.loadExcel(r);case 5:i=t.sent,pe.recalculateAllFulfillments(i.deliverables,i.steps),e.$store.dispatch("setDeliverables",i.deliverables),e.$store.dispatch("setSteps",i.steps),e.$store.dispatch("setResponsibles",i.responsibles),e.$store.dispatch("setHeaders",i.headers),e.$store.dispatch("setRowCounterToZero",0);case 12:case"end":return t.stop()}}),t)})))()},toggleWeight:function(){this.$emit("handleShowWeight")},undoDelete:function(){this.$emit("handleUndelete")}}},ge=ve,me=(n("32ab"),n("cc20")),be=n("ce7e"),ye=n("23a7"),we=n("2fa4"),xe=n("71d9"),Ce=n("2a7f"),Ee=Object(b["a"])(ge,W,V,!1,null,"815e43c8",null),Fe=Ee.exports;w()(Ee,{VBtn:x["a"],VChip:me["a"],VDivider:be["a"],VFileInput:ye["a"],VSpacer:we["a"],VToolbar:xe["a"],VToolbarTitle:Ce["a"]});var Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.header.headerEditable?n("v-edit-dialog",{on:{open:function(t){return e.headerTextFieldOpen(e.header.text)},save:function(t){return e.changeHeader(e.header)}},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{value:e.header.text,rules:[e.rules.required,e.rules.alreadyExist],counter:"",maxlength:"20",label:"Edit","single-line":""},on:{focus:function(e){return e.target.select()},change:function(t){return e.inputChanged(t)}}})]},proxy:!0}],null,!1,1862401062)},[n("span",[n("span",[e._v(" "+e._s(e.header.text)+" ")])])]):e._e()},_e=[],ke={props:["header"],emits:["handleHeaderTextFileOpend","handleChangeHeader","handleInputChange"],data:function(){return{rules:{counter:function(e){return e.length<=20||"Max 20 characters"},required:function(e){return!!e||"Required."},positiveNumbers:function(e){return e>0||"Should be greater than 0"},alreadyExist:!0}}},methods:{headerTextFieldOpen:function(e){this.$emit("handleHeaderTextFileOpend",e)},changeHeader:function(e){this.$emit("handleChangeHeader",e)},inputChanged:function(e,t){this.$emit("handleInputChange",e,t)}}},Oe=ke,Re=Object(b["a"])(Oe,Se,_e,!1,null,null,null),je=Re.exports;w()(Re,{VEditDialog:$["a"],VTextField:A["a"]});var Te=new f,Ie={name:"HelloWorld",components:{ConfirmMessage:E,LinearProgress:T,EditDialogTableHeader:je,EditDialogTableBody:P,Toolbar:Fe},data:function(){return{index:-1,selectedRowTop:0,selectedRows:[],selectedRow:null,isRangeSelected:!1,deletedRows:[],deletedRowsStack:[],isShiftPressed:!1,toolboxVisible:!1,expandedWidth:!0,isDialogOpen:!1,showEditDialog:!0,selectItems:["open","wip","closed","n.rel."],rotateValues:{id:0,description:0,weight:0,fulfillment:0},sortBy:"id",sortDesc:!1,file:null,inputValue:"",showWeight:"Show Weight",max20chars:function(e){return e.length<=20||"Maximum 20 character allowed"},rules:{counter:function(e){return e.length<=20||"Max 20 characters"},required:function(e){return!!e||"Required."},positiveNumbers:function(e){return e>0||"Should be greater than 0"},alreadyExist:!0},adjustText:"Fit On Page",heightScale:0,widthScale:0,horizontalAdjusted:!1,thHeight:16,thWidth:0,tdHeight:16,headerEditValue:"",defaultItem:{id:"",description:"",oneWeekBefore:"",untilDayBefore:"",fulfillment:0},stepOffset:3,showDeleteIcon:!1,columnDeleteIcon:!1,message:"The Message",pressedId:"",pressedType:"",showConformMessage:!1,activeChildIndex:null}},computed:Object(u["a"])(Object(u["a"])({stepsFulfillment:function(){return this.$store.getters.stepsFulfillment},subProjectStepsFullFilment:function(){return this.$store.getters.subProjectStepsFullFilment}},Object(F["b"])(["statusTable"])),{},{headers:function(){return this.statusTable.headers},filteredHeaders:function(){var e=this;return this.statusTable.headers.filter((function(t){return"Show Weight"!==e.showWeight||"weight"!==t.value}))},deliverables:function(){return this.statusTable.deliverables},responsibles:function(){return this.statusTable.responsibles},steps:function(){return this.statusTable.steps},totalFulfillment:function(){return Math.round(this.$store.getters.totalFulfillment)}}),mounted:function(){this.$nextTick((function(){this.$refs.headerRef&&(this.thHeight=this.$refs.headerRef.clientHeight),this.thWidth=this.$refs.headerRef.clientWidth,this.$refs.rowRef&&(this.tdHeight=this.$refs.rowRef[0].clientHeight);var e=document.getElementsByClassName("v-toolbar__content")[0].clientHeight,t=document.getElementsByClassName("overflow-c")[0].clientHeight,n=document.getElementsByClassName("v-data-table__wrapper")[0];n.style.maxHeight=t-e+"px"}))},watch:{dialog:function(e){e||this.close()}},methods:{ungroupSelectedChildren:function(){var e=this,t=[];this.selectedRows.forEach((function(n){var r=e.findParentIndex(n);if(-1!==r){var i=e.findChildIndex(r,n);-1!==i&&t.push({parentIdx:r,childIdx:i})}})),t.sort((function(e,t){return t.parentIdx-e.parentIdx||t.childIdx-e.childIdx})),t.forEach((function(t){var n=t.parentIdx,r=t.childIdx;e.ungroupChild(n,r)})),this.selectedRows=[],this.$store.dispatch("setDeliverables",this.deliverables),Te.recalculateAllFulfillments(this.deliverables,this.steps)},ungroupChild:function(e,t){var n=this.deliverables[e],r=n.children[t];n.children.splice(t,1),this.deliverables.splice(e+1,0,r),0===n.children.length&&this.deliverables.splice(e,1),this.recalculateNumbering()},findParentIndex:function(e){for(var t=0;t<this.deliverables.length;t++)if(this.deliverables[t].children)for(var n=0;n<this.deliverables[t].children.length;n++)if(this.deliverables[t].children[n].id===e)return t;return-1},findChildIndex:function(e,t){for(var n=this.deliverables[e],r=0;r<n.children.length;r++)if(n.children[r].id===t)return r;return-1},recalculateNumbering:function(){this.deliverables.forEach((function(e,t){e.id=t+1,e.children&&e.children.length>0&&e.children.forEach((function(t,n){t.id="".concat(e.id,".").concat(n+1)}))}))},closetoolbox:function(e){e.target.classList.contains("deliverable--number")||(this.toolboxVisible=!1,this.index=-1,this.selectedRows=[])},include:function(){return[document.querySelector(".deliverable--number")]},renumberDeliverables:function(e){return e.map((function(e,t){if(!e.isGrouped)return Object(u["a"])(Object(u["a"])({},e),{},{id:t+1});var n=Object(u["a"])(Object(u["a"])({},e),{},{id:t+1});return n.children&&n.children.length>0&&(n.children=n.children.map((function(e,t){return Object(u["a"])(Object(u["a"])({},e),{},{id:"".concat(n.id,".").concat(t+1)})}))),n}))},createNewRowFromSelected:function(){var e=this;ae["a"].currentAuthenticatedUser().then((function(){if(e.selectedRows.length>0){var t={description:"Subproject",fulfillment:0,id:Math.min.apply(Math,Object(c["a"])(e.selectedRows)),responsible:"",showEditDialog:!1,weight:0,isChild:!0,children:[],isGrouped:!0},n=0;t.children=e.selectedRows.map((function(r,i){var a=e.deliverables.find((function(e){return e.id===r}));return n+=parseInt(a.weight),Object(u["a"])(Object(u["a"])({},a),{},{id:"".concat(t.id,".").concat(i+1),isGrouped:!0,parentId:t.id})})),t.weight=n;var r=e.deliverables.filter((function(t){return!e.selectedRows.includes(t.id)}));e.calculateStepsFulfillmentForNewRow(t);var i=r.findIndex((function(e){return t.id-1<e.id})),a=-1!==i?i:r.length;r.splice(a,0,t),e.selectedRows=[],e.toolboxVisible=!1,r=e.renumberDeliverables(r),e.$store.dispatch("setDeliverables",r)}}))["catch"]((function(){return alert("You are not signed in")}))},calculateStepsFulfillmentForNewRow:function(e){if(e.weight>0){var t=0;if(this.steps.forEach((function(t){var n=0,r=0,i=0;e.children.forEach((function(e,a){"n.rel."!==e[t.identity]&&(n+=+e.weight),i+="closed"===e[t.identity]?1*e.weight:0,r+="wip"===e[t.identity]?.5*e.weight:0})),e[t.identity]=(i+r)/n*100})),this.steps.length>0){var n=0;e.children.forEach((function(e,r){"number"===typeof e.fulfillment&&(n+=+e.weight,t+=e.fulfillment*e.weight)})),e.fulfillment=t/n}}},deleteRows:function(){var e=this;if(this.selectedRows.length>0){var t=[];this.selectedRows.forEach((function(n){var r=e.deliverables.findIndex((function(e){return e.id===n}));if(-1!==r){var i=e.deliverables[r];i.children&&i.children.length>0?(t.push.apply(t,Object(c["a"])(i.children)),t.push(i),e.deliverables.splice(r,1)):(t.push(i),e.deliverables.splice(r,1))}else e.deliverables.forEach((function(r,i){var a=r.children?r.children.findIndex((function(e){return e.id===n})):-1;if(-1!==a){var o=r.children.splice(a,1)[0];t.push(o),0===r.children.length&&(e.deliverables.splice(i,1),t.push(r))}}))})),this.selectedRows=[],this.deletedRowsStack.push(t),Te.recalculateAllFulfillments(this.deliverables,this.steps),this.$store.dispatch("setDeliverables",this.deliverables),this.toolboxVisible=!1,this.index=null}},getNextAvailableId:function(e){var t=1,n=e.length;return 0!==n&&(t=this.deliverables[n-1].id+1),t},undoDelete:function(){var e=this;if(this.deletedRowsStack.length>0){var t=this.deletedRowsStack.pop();t.forEach((function(t){if(t.parentId){var n=e.deliverables.find((function(e){return e.id===t.parentId}));n&&(n.children=n.children||[],n.children.push(t),n.children.sort((function(e,t){return e.id-t.id})))}else{var r=e.deliverables.find((function(e){return e.id===t.id}));r&&(t.id=e.getNextAvailableId(e.deliverables)),e.deliverables.push(t)}}));var n=new f;n.recalculateAllFulfillments(this.deliverables,this.steps),this.$store.dispatch("setDeliverables",this.deliverables)}},handleClick:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.positionToolBox(t,r),e.shiftKey)return this.handleRangeSelection(this.index,t,r),this.index=null,void(this.isRangeSelected=!0);e.ctrlKey?(this.selectedRows.push(n),this.isRangeSelected=!0,this.index=null):(this.selectedRows=[n],this.index=t,this.isRangeSelected=!1)},isSelected:function(e){return this.selectedRows.includes(e)},handleRangeSelection:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e>t){var r=[t,e];e=r[0],t=r[1]}for(var i=e;i<=t;i++){var a,o,l=n?null===(a=this.deliverables[n].children[i])||void 0===a?void 0:a.id:null===(o=this.deliverables[i])||void 0===o?void 0:o.id;this.selectedRows.includes(l)||this.selectedRows.push(l)}},positionToolBox:function(e,t){var n=20;this.selectedRowTop=(null!==t?t+e:e)*n,this.toolboxVisible=!0},handleSelectChange:function(e,t){var n=["open","wip","closed","n.rel."],r=n.indexOf(e[t]),i=(r+1)%n.length;if(this.$set(e,t,n[i]),e.isChild||this.calculateRowFulfillment(e),void 0!==e.parentId){var a=this.deliverables.find((function(t){return t.id===e.parentId}));this.calculateStepsFulfillmentForNewRow(a)}this.$store.dispatch("setDeliverables",this.deliverables)},getProgressBarStyles:function(e,t){return(t[e.value]?Math.round(t[e.value]):0)+"%"},toggleWidth:function(){this.expandedWidth=!this.expandedWidth},getTitle:function(e,t){return t.value.includes("step")||!isNaN(e[t.value])?"":e[t.value]},toggleWeight:function(){"Show Weight"===this.showWeight?this.showWeight="Hide Weight":this.showWeight="Show Weight"},mouseLeave:function(e){this.isDialogOpen||(e.showEditDialog=!1)},headerTextFieldOpen:function(e){var t=this;this.inputValue=e,this.rules.alreadyExist=function(n){return!t.headers.find((function(t){return n.toLowerCase()===t.text.toLowerCase()&&n.toLowerCase()!==e.toLowerCase()}))||"Column name already exist"}},calculateRowFulfillment:function(e){var t=this.steps.length,n=0,r=0;if(this.steps.forEach((function(i){n+="closed"===e[i.identity]?1:0,r+="wip"===e[i.identity]?.5:0,t-="n.rel."===e[i.identity]?1:0})),t>0){var i=(n+r)/t*100;e.fulfillment=i}else e.fulfillment="n.rel."},cellBackgroundStyle:function(e){return{backgroundColor:this.getColor(e)}},getColor:function(e){return"open"===e?"#FF0000":"wip"===e?"orange":"n.rel."===e?"#778899":"closed"===e?"#7bea7b":null},close1:function(e){var t=this;setTimeout((function(){t.isDialogOpen=!1,e.showEditDialog=!1}),500)},close:function(){},cancel:function(){},open:function(e){this.isDialogOpen=!0,this.inputValue=e},changeCell:function(e,t){e[t]=this.inputValue,e.showEditDialog=!1,this.isDialogOpen=!1,this.calculateRowFulfillment(e),this.$store.dispatch("setDeliverables",this.deliverables)},changeHeader:function(e){!0===this.rules.required(this.inputValue.length)&&!0===this.rules.alreadyExist(this.inputValue)&&(e.text=this.inputValue,this.$store.dispatch("setHeaders",this.headers))},inputChanged:function(e,t){"weight"===t?""!==e&&e>0&&(this.inputValue=e):this.inputValue=e},sortColumn:function(e){this.sortBy===e?(this.sortDesc=!0,0===this.rotateValues[e]&&(this.sortDesc=!1)):(this.sortDesc=!1,this.sortBy=e,this.rotateValues.id=0,this.rotateValues.description=0,this.rotateValues.weight=0,this.rotateValues.fulfillment=0)},showDelete:function(e){this.deliverables[e].showDeleteIcon=!0},unShowDelete:function(e){this.deliverables[e].showDeleteIcon=!1},showColumnDelete:function(e){++e,this.headers[e].columnDeleteIcon=!0},unShowColumnDelete:function(e){++e,this.headers[e].columnDeleteIcon=!1},conformMessage:function(e,t,n){"column"===n?("Show Weight"===this.showWeight&&++t,t>2&&t<this.responsibles.length+3?(this.pressedId=t,this.pressedType="responsible"):(this.pressedId=t,this.pressedType="step"),this.message="Do you want to delete ".concat(this.headers[t].text," column?")):(this.pressedId=t,this.pressedType="Row",this.message=e),this.toggleShowConformMessage()},deleteRow:function(){var e=this.pressedId;for(this.deliverables.splice(e,1),e;e<this.deliverables.length;e++)this.deliverables[e].id=this.deliverables[e].id-1;this.$store.dispatch("setDeliverables",this.deliverables),this.toggleShowConformMessage()},deleteColumn:function(e){var t=this,n=this.pressedId;if(e.includes("step")){var r=n-(this.responsibles.length+3),i=this.steps.length;this.steps.splice(r,1),this.headers.splice(n,1);for(var a=0;a<this.steps.length;a++)this.steps[a].identity="step".concat(a+1),this.steps[a].text="step".concat(a+1);for(var o=1,l=3+this.responsibles.length;l<this.headers.length-1;l++)this.headers[l].text.includes("Step")&&(this.headers[l].text="Step".concat(o)),this.headers[l].value="step".concat(o),o++;for(var s=0;s<this.deliverables.length;s++){for(var c=r;c<this.steps.length;c++)this.deliverables[s]["step".concat(c+1)]=this.deliverables[s]["step".concat(c+2)];this.calculateRowFulfillment(this.deliverables[s]),this.deliverables[s].isGrouped&&this.deliverables[s].children.forEach((function(e){t.calculateRowFulfillment(e)})),delete this.deliverables[s]["step".concat(i)]}this.$store.dispatch("setHeaders",this.headers),this.$store.dispatch("setDeliverables",this.deliverables),this.$store.dispatch("setNextColumnName",this.$store.getters.getNextColumnName("Status")),this.toggleShowConformMessage(),Te.recalculateAllFulfillments(this.deliverables,this.steps)}else if(e.includes("responsible")){for(var u=0;u<this.deliverables.length;u++){var h=n;for(h;h<this.responsibles.length+3;h++)this.deliverables[u]["responsible".concat(h-1)]?this.deliverables[u]["responsible".concat(h-2)]=this.deliverables[u]["responsible".concat(h-1)]:this.deliverables[u]["responsible".concat(h-1)]||(this.deliverables[u]["responsible".concat(h-2)]="")}for(var d=0;d<this.deliverables.length;d++)delete this.deliverables[d]["responsible".concat(this.responsibles.length)];this.headers.splice(n,1),this.responsibles.splice(n-3,1);for(var f=0;f<this.responsibles.length;f++)this.responsibles[f].identity="responsible".concat(f+1),this.responsibles[f].text="Responsible".concat(f+1);for(var p=1,v=3;v<this.responsibles.length+3;v++)this.headers[v].text.includes("Responsible")&&(this.headers[v].text="Responsible".concat(p)),this.headers[v].value="responsible".concat(p),p++;this.$store.dispatch("setHeaders",this.headers),this.$store.dispatch("setResponsibles",this.responsibles),this.$store.dispatch("setDeliverables",this.deliverables),this.toggleShowConformMessage()}},toggleShowConformMessage:function(){this.showConformMessage=!this.showConformMessage}}},Ne=Ie,De=n("62ad"),Le=n("a523"),$e=n("8fea"),Ae=n("132d"),Me=n("0fd9"),Pe=n("269a"),We=n.n(Pe),Ve=n("a293"),Ue=Object(b["a"])(Ne,l,s,!1,null,null,null),Be=Ue.exports;w()(Ue,{VCol:De["a"],VContainer:Le["a"],VDataTable:$e["a"],VIcon:Ae["a"],VRow:Me["a"]}),We()(Ue,{ClickOutside:Ve["a"]});var He=Object(o["a"])({name:"App",data:function(){return{user:void 0,authState:void 0,unsubscribeAuth:void 0}},beforeDestroy:function(){this.unsubscribeAuth()},created:function(){var e=this;document.title="Earned Value",this.unsubscribeAuth=Object(de["a"])((function(t,n){e.user=n,console.log("user state",e.unsubscribeAuth)}))},components:{StatusTable:Be}},"data",(function(){return{drawer:!1}})),Ge=He,qe=n("7496"),ze=n("f6c4"),Ye=Object(b["a"])(Ge,i,a,!1,null,null,null),Ze=Ye.exports;w()(Ye,{VApp:qe["a"],VMain:ze["a"]});var Je=n("8c4f"),Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("StatusTable")],1)},Xe=[],Qe={name:"Home",components:{StatusTable:Be}},et=Qe,tt=Object(b["a"])(et,Ke,Xe,!1,null,null,null),nt=tt.exports;r["a"].use(Je["a"]);var rt=[{path:"/",name:"Home",component:nt,meta:{auth:!0}},{path:"/auth",name:"Auth",component:he}],it=new Je["a"]({mode:"history",base:"/",routes:rt}),at=it,ot=n("0e44"),lt={headers:[{text:"No",align:"start",value:"id",sortable:!0,editable:!1,headerEditable:!1,fixed:!0},{text:"Description",value:"description",editable:!0,fixed:!0},{text:"Weight",value:"weight",editable:!0},{text:"Step1",value:"step1",sortable:!1,editable:!0,headerEditable:!0,columnDeleteIcon:!1},{text:"Fulfillment",value:"fulfillment",editable:!1}],deliverables:[],steps:[{text:"Step1",identity:"step1"}],responsibles:[],nextColumnName:"Step2",newRowCounter:0,authentication:{authState:null,authData:null}},st={setAuthentication:function(e,t){var n=t.authState,r=t.authData;e.authentication.authState=n,e.authentication.authData=r},incrementNewRowCounter:function(e){e.newRowCounter++},SET_ROW_COUNTER_TO_ZERO:function(e,t){e.newRowCounter=t},SET_HEADERS:function(e,t){e.headers=t},SET_TABLE_STATE:function(e,t){e.deliverables=t},SET_STEPS:function(e,t){e.steps=t,e.nextStatusColumn="Step"+(e.steps.length+1)},SET_RESPONSIBLES:function(e,t){e.responsibles=t},SET_NEXT_COLUMN_NAME:function(e,t){e.nextColumnName=t},LOAD_DELIVERABLES:function(e,t){e.steps.length>0&&(e.deliverables=t)}},ct={setAuthentication:function(e,t){var n=e.commit;n("setAuthentication",t)},incrementNewRowCounterAction:function(e){var t=e.commit;t("incrementNewRowCounter")},setRowCounterToZero:function(e,t){var n=e.commit;n("SET_ROW_COUNTER_TO_ZERO",t)},setHeaders:function(e,t){var n=e.commit;n("SET_HEADERS",t)},setDeliverables:function(e,t){var n=e.commit;n("SET_TABLE_STATE",t)},setSteps:function(e,t){var n=e.commit;n("SET_STEPS",t)},setResponsibles:function(e,t){var n=e.commit;n("SET_RESPONSIBLES",t)},setNextColumnName:function(e,t){var n=e.commit,r=e.state,i="Step";"Status"===t?i="Step"+(r.steps.length+1):"Responsible"===t&&(i=0===r.responsibles.length?"Responsible":"Responsible"+(r.steps.length+1)),n("SET_NEXT_COLUMN_NAME",i)},loadDeliverables:function(e,t){var n=e.commit;n("LOAD_DELIVERABLES",t)}},ut={getNewRowCounter:function(e){return e.newRowCounter},getNextColumnName:function(e){return function(t){var n="Step";return"Status"===t?n="Step"+(e.steps.length+1):"Responsible"===t&&(n=0===e.responsibles.length?"Responsible1":"Responsible"+(e.responsibles.length+1)),n}},headers:function(e){return e.headers},deliverables:function(e){return e.deliverables},steps:function(e){return e.steps},responsibles:function(e){return e.responsibles},stepsFulfillment:function(e){if(!e.steps||0===e.steps.length)return{};var t={};return e.steps.forEach((function(n){if(n){var r=0,i=0,a=0;e.deliverables.forEach((function(e){e&&1==e.isChild?e.children.forEach((function(e){"n.rel."!==e[n.identity]&&(r+=+e.weight),a+="closed"===e[n.identity]?1*e.weight:0,i+="wip"===e[n.identity]?.5*e.weight:0})):("n.rel."!==e[n.identity]&&(r+=+e.weight),a+="closed"===e[n.identity]?1*e.weight:0,i+="wip"===e[n.identity]?.5*e.weight:0)})),t[n.identity]=(a+i)/r*100}})),t},subProjectStepsFullFilment:function(e){if(!e.steps||0===e.steps.length)return{};console.log("sub project steps full");var t={};return e.deliverables.forEach((function(n){n&&n.isGrouped&&(t[n.id]={},e.steps.forEach((function(e){if(e){var r=0,i=0,a=0;n.children.forEach((function(t){"n.rel."!==t[e.identity]&&(r+=+t.weight),a+="closed"===t[e.identity]?1*t.weight:0,i+="wip"===t[e.identity]?.5*t.weight:0})),t[n.id][e.identity]=0===r?0:(a+i)/r*100}})))})),t},totalFulfillment:function(e){if(0!==e.steps.length){var t=0,n=0;return e.deliverables.forEach((function(e){e&&1==e.isChild?e.children.forEach((function(e){"number"===typeof e.fulfillment&&(n+=+e.weight,t+=e.fulfillment*e.weight)})):"number"===typeof e.fulfillment&&(n+=+e.weight,t+=e.fulfillment*e.weight)})),0===n?0:t/n}},nextResponsibleIdentity:function(e){return 0===e.responsibles.length?"responsible1":"responsible"+(e.responsibles.length+1)}},ht={state:lt,mutations:st,actions:ct,getters:ut};r["a"].use(F["a"]);var dt=new F["a"].Store({state:{},mutations:{},actions:{},modules:{statusTable:ht},plugins:[Object(ot["a"])()]}),ft=n("f309");r["a"].use(ft["a"]);var pt=new ft["a"]({}),vt=(n("0e46"),n("00bd")),gt=n("4327"),mt={Auth:{region:"eu-north-1",userPoolId:"eu-north-1_h94Qsmj7v",userPoolWebClientId:"21tfo5798hvkfgl8dgi5cslad4",oauth:{domain:"https://eva.auth.eu-north-1.amazoncognito.com",scope:["openid","email","phone"],redirectSignIn:"http://localhost:8080/",redirectSignOut:"http://localhost:8080/",responseType:"token"}}},bt=mt,yt=n("d6a3");r["a"].config.ignoredElements=[/amplify-\w*/],vt["default"].configure(bt),Object(yt["a"])().then((function(){Object(yt["b"])(window)})),r["a"].config.productionTip=!1,gt["a"].listen("auth",(function(e){var t=e.payload;"signIn"===t.event||"signUp"===t.event?at.push("/"):"signOut"===t.event&&window.location.reload()})),new r["a"]({router:at,store:dt,vuetify:pt,render:function(e){return e(Ze)}}).$mount("#app")},"60bb":function(e,t,n){},"640c":function(e,t,n){"use strict";n("2e21")}});
//# sourceMappingURL=app.77457ce7.js.map